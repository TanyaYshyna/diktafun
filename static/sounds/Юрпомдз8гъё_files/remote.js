(function(g){var window=this;'use strict';var nX1=function(L,m){return g.rH(L,m)},C0p=function(L){if(L instanceof g.Wt)return L;
if(typeof L.hR=="function")return L.hR(!1);if(g.lg(L)){let m=0;const n=new g.Wt;n.next=function(){for(;;){if(m>=L.length)return g.rs;if(m in L)return g.Go(L[m++]);m++}};
return n}throw Error("Not implemented");},Ztz=function(L,m,n){if(g.lg(L))g.pJ(L,m,n);
else for(L=C0p(L);;){const {done:C,value:Z}=L.next();if(C)break;m.call(n,Z,void 0,L)}},vU=function(L){g.va(L,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.J_()).toString(36));
return L},EP=function(L,m,n){Array.isArray(n)||(n=[String(n)]);
g.Vx(L.G,m,n)},zWo=function(L,m){const n=[];
Ztz(m,function(C){let Z;try{Z=g.yO.prototype.xp.call(this,C,!0)}catch(z){if(z=="Storage: Invalid value was encountered")return;throw z;}Z===void 0?n.push(C):g.xr(Z)&&n.push(C)},L);
return n},vXw=function(L,m){zWo(L,m).forEach(function(n){g.yO.prototype.remove.call(this,n)},L)},EX$=function(L){if(L.N6){if(L.N6.locationOverrideToken)return{locationOverrideToken:L.N6.locationOverrideToken};
if(L.N6.latitudeE7!=null&&L.N6.longitudeE7!=null)return{latitudeE7:L.N6.latitudeE7,longitudeE7:L.N6.longitudeE7}}return null},XS$=function(L,m){g.KJ(L,m)||L.push(m)},XF=function(L){let m=0;
for(const n in L)m++;return m},Nxp=function(L){try{return g.X8.JSON.parse(L)}catch(m){}L=String(L);
if(/^\s*$/.test(L)?0:/^[\],:{}\s\u2028\u2029]*$/.test(L.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+L+")")}catch(m){}throw Error("Invalid JSON string: "+L);},N2=function(L){if(g.X8.JSON)try{return g.X8.JSON.parse(L)}catch(m){}return Nxp(L)},TxF=function(L,m,n,C){const Z=new g.om(null);
L&&g.cu(Z,L);m&&g.Lk(Z,m);n&&g.mt(Z,n);C&&(Z.O=C);return Z},VfJ=function(L,m){return new g.t7Z(L,m)},T8=function(L,m){return Object.prototype.hasOwnProperty.call(L,m)},itp=function(L,m){return L===m},VH=function(L,m){this.O={};
this.W=[];this.Jg=this.size=0;var n=arguments.length;if(n>1){if(n%2)throw Error("Uneven number of arguments");for(var C=0;C<n;C+=2)this.set(arguments[C],arguments[C+1])}else if(L)if(L instanceof VH)for(n=L.Gu(),C=0;C<n.length;C++)this.set(n[C],L.get(n[C]));else for(C in L)this.set(C,L[C])},iE=function(L){if(L.size!=L.W.length){for(var m=0,n=0;m<L.W.length;){var C=L.W[m];
T8(L.O,C)&&(L.W[n++]=C);m++}L.W.length=n}if(L.size!=L.W.length){m={};for(C=n=0;n<L.W.length;){const Z=L.W[n];T8(m,Z)||(L.W[C++]=Z,m[Z]=1);n++}L.W.length=C}},$t=function(L){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new VH;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";L&&(this.id=L.id||L.name,this.name=L.name,this.clientName=L.clientName?L.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=L.app,this.type=L.type||"REMOTE_CONTROL",this.username=L.user||"",this.avatar=L.userAvatarUri||"",this.obfuscatedGaiaId=L.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=L.ownerObfuscatedGaiaId||"",this.theme=L.theme||"u",$n0(this,L.capabilities||""),aIz(this,L.compatibleSenderThemes||""),q21(this,L.experiments||""),this.brand=L.brand||"",this.model=L.model||"",this.year=L.year||0,this.os=L.os||"",this.osVersion=L.osVersion||"",this.chipset=L.chipset||"",this.mdxDialServerType=L.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",L=L.deviceInfo)&&(L=JSON.parse(L),this.brand=L.brand||"",this.model=L.model||"",this.year=L.year||0,this.os=L.os||"",this.osVersion=L.osVersion||"",this.chipset=L.chipset||"",this.clientName=L.clientName?L.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=L.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},$n0=function(L,m){L.capabilities.clear();
g.ug(m.split(","),g.IU(nX1,Dnf)).forEach(n=>{L.capabilities.add(n)})},aIz=function(L,m){L.compatibleSenderThemes.clear();
g.ug(m.split(","),g.IU(nX1,Otl)).forEach(n=>{L.compatibleSenderThemes.add(n)})},q21=function(L,m){L.experiments.clear();
m.split(",").forEach(n=>{L.experiments.add(n)})},aR=function(L){L=L||{};
this.name=L.name||"";this.id=L.id||L.screenId||"";this.token=L.token||L.loungeToken||"";this.uuid=L.uuid||L.dialId||"";this.idType=L.screenIdType||"normal"},q2=function(L,m){return!!m&&(L.id==m||L.uuid==m)},lI0=function(L){return{name:L.name,
screenId:L.id,loungeToken:L.token,dialId:L.uuid,screenIdType:L.idType}},RWH=function(L){return new aR(L)},wSZ=function(L){return Array.isArray(L)?g.h_(L,RWH):[]},DN=function(L){return L?`{name:"${L.name}",id:${L.id.substr(0,6)}..,`+`token:${L.token?".."+L.token.slice(-6):"-"},uuid:${L.uuid?".."+L.uuid.slice(-6):"-"},idType:${L.idType}}`:"null"},OP=function(L){return Array.isArray(L)?"["+g.h_(L,DN).join(",")+"]":"null"},lE=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(L){const m=
Math.random()*16|0;
return(L=="x"?m:m&3|8).toString(16)})},eWr=function(L){return g.h_(L,function(m){return{key:m.id,
name:m.name}})},RR=function(L,m){return g.Wm(L,function(n){return n||m?!n!=!m?!1:n.id==m.id:!0})},wi=function(L,m){return g.Wm(L,function(n){return q2(n,m)})},gXZ=function(){const L=g.bt.fK();
L&&vXw(L,L.bE.hR(!0))},eP=function(){const L=g.fe("yt-remote-connected-devices")||[];
g.gH(L);return L},Mfl=function(L){if(L.length==0)return[];
const m=L[0].indexOf("#"),n=m==-1?L[0]:L[0].substring(0,m);return g.h_(L,function(C,Z){return Z==0?C:C.substring(n.length)})},S20=function(L){g.tM("yt-remote-connected-devices",L,86400)},M2=function(){if(gi)return gi;
let L=g.fe("yt-remote-device-id");L||(L=lE(),g.tM("yt-remote-device-id",L,31536E3));const m=eP();let n=1,C=L;for(;g.KJ(m,C);)n++,C=L+"#"+n;return gi=C},SP=function(){let L=eP();
const m=M2();g.BN()&&g.SZ(L,m);L=Mfl(L);if(L.length==0)try{g.wK("remote_sid")}catch(n){}else try{g.l2("remote_sid",L.join(","),-1)}catch(n){}},II0=function(){return g.fe("yt-remote-session-browser-channel")},JLr=function(){return g.fe("yt-remote-local-screens")||[]},AL1=function(){g.tM("yt-remote-lounge-token-expiration",!0,86400)},btD=function(L){L.length>5&&(L=L.slice(L.length-5));
const m=g.h_(JLr(),function(C){return C.loungeToken}),n=g.h_(L,function(C){return C.loungeToken});
g.Hm(n,function(C){return!g.KJ(m,C)})&&AL1();
g.tM("yt-remote-local-screens",L,31536E3)},IR=function(L){L||(g.Uv("yt-remote-session-screen-id"),g.Uv("yt-remote-session-video-id"));
SP();L=eP();g.cm(L,M2());S20(L)},tfl=function(){if(!Ji){const L=g.CU();
L&&(Ji=new g.Yr(L))}},fIF=function(){tfl();
return Ji?!!Ji.get("yt-remote-use-staging-server"):!1},Ai=function(L,m){g.P$[L]=!0;
const n=g.US();n&&n.publish.apply(n,arguments);g.P$[L]=!1},ti=function(){if(!bE){bE=new g.jW(new Un$);
const L=g.cE("client_streamz_web_flush_count",-1);L!==-1&&(bE.J=L)}return bE},fL=function(){let L=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return L?parseInt(L[1],10):0},BxZ=function(L){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+L)!=-1||document.currentScript.src.indexOf("&"+L)!=-1)},P0F=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},UP=function(L){L.length?sC$(L.shift(),function(){UP(L)}):BU()},BU=function(){let L=P0F();
L&&L(!1,"No cast extension found")},sC$=function(L,m,n){let C=document.createElement("script");
C.onerror=m;n&&(C.onload=n);g.Zj(C,g.DQ(L));(document.head||document.documentElement).appendChild(C)},QCl=function(L){return"chrome-extension://"+L+"/cast_sender.js"},pSD=function(){const L=fL(),m=[];
if(L>1){const n=L-1;m.push("//www.gstatic.com/eureka/clank/"+L+"/cast_sender.js");m.push("//www.gstatic.com/eureka/clank/"+n+"/cast_sender.js")}return m},PU=function(){if(Fvp){var L=2,m=P0F(),n=function(){L--;
L==0&&m&&m(!0)};
window.__onGCastApiAvailable=n;sC$("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",BU,n)}},uff=function(){PU();
let L=pSD();L.push("//www.gstatic.com/eureka/clank/cast_sender.js");UP(L)},rLr=function(){PU();
let L=pSD();L.push(...hW0.map(QCl));L.push("//www.gstatic.com/eureka/clank/cast_sender.js");UP(L)},sP=function(L,m,n){g.S_.call(this);
this.U=n!=null?(0,g.Sx)(L,n):L;this.YA=m;this.L=(0,g.Sx)(this.zC,this);this.W=!1;this.O=0;this.J=this.vc=null;this.G=[]},QH=function(){g.iy.call(this,"p")},pL=function(){g.iy.call(this,"o")},FF=function(){return k1J=k1J||new g.Bh},HtZ=function(L){g.iy.call(this,"serverreachability",L)},uE=function(L){const m=FF();
m.dispatchEvent(new HtZ(m,L))},Y2D=function(L){g.iy.call(this,"statevent",L)},hi=function(L){const m=FF();
m.dispatchEvent(new Y2D(m,L))},WvH=function(L,m,n,C){g.iy.call(this,"timingevent",L);
this.size=m;this.rtt=n;this.retries=C},ri=function(L,m){if(typeof L!=="function")throw Error("Fn must not be null and must be a function");
return g.X8.setTimeout(function(){L()},m)},kt=function(){},HU=function(L,m,n,C){this.J=L;
this.G=m;this.zb=n;this.tQ=C||1;this.jD=new g.a0(this);this.l1=45E3;this.KI=null;this.U=!1;this.j=this.SD=this.T=this.xU=this.Wv=this.fI=this.wd=null;this.C=[];this.W=null;this.S=0;this.L=this.Je=null;this.CI=-1;this.nI=!1;this.Mb=0;this.m3=null;this.yH=this.Zl=this.Ij=this.zo=!1;this.O=new G1D},G1D=function(){this.O=null;
this.W="";this.J=!1},Yt=function(L,m,n){L.xU=1;
L.T=vU(m.clone());L.j=n;L.zo=!0;dnD(L,null)},dnD=function(L,m){L.Wv=Date.now();
WU(L);L.SD=L.T.clone();EP(L.SD,"t",L.tQ);L.S=0;const n=L.J.Zl;L.O=new G1D;L.W=Kvp(L.J,n?m:null,!L.j);L.Mb>0&&(L.m3=new g.Cg((0,g.Sx)(L.Rr,L,L.W),L.Mb));L.jD.listen(L.W,"readystatechange",L.b3);m=L.KI?g.KF(L.KI):{};L.j?(L.Je||(L.Je="POST"),m["Content-Type"]="application/x-www-form-urlencoded",L.W.send(L.SD,L.Je,L.j,m)):(L.Je="GET",L.W.send(L.SD,L.Je,null,m));uE(1)},yLo=function(L){if(!xnw(L))return g.Ya(L.W);
const m=g.WO(L.W);if(m==="")return"";let n="";const C=m.length,Z=g.rz(L.W)==4;if(!L.O.O){if(typeof TextDecoder==="undefined")return G8(L),di(L),"";L.O.O=new g.X8.TextDecoder}for(let z=0;z<C;z++)L.O.J=!0,n+=L.O.O.decode(m[z],{stream:!(Z&&z==C-1)});m.length=0;L.O.W+=n;L.S=0;return L.O.W},xnw=function(L){return L.W?L.Je=="GET"&&L.xU!=2&&L.J.e9:!1},oX$=function(L,m){var n=L.S,C=m.indexOf("\n",n);
if(C==-1)return KL;n=Number(m.substring(n,C));if(isNaN(n))return jC$;C+=1;if(C+n>m.length)return KL;m=m.slice(C,C+n);L.S=C+n;return m},WU=function(L){L.fI=Date.now()+L.l1;
cLl(L,L.l1)},cLl=function(L,m){if(L.wd!=null)throw Error("WatchDog timer not null");
L.wd=ri((0,g.Sx)(L.GC,L),m)},xt=function(L){L.wd&&(g.X8.clearTimeout(L.wd),L.wd=null)},di=function(L){L.J.Dg()||L.nI||LiZ(L.J,L)},G8=function(L){xt(L);
g.gt(L.m3);L.m3=null;L.jD.removeAll();if(L.W){const m=L.W;L.W=null;m.abort();m.dispose()}},Zt=function(L,m){try{var n=L.J;
if(n.v5!=0&&(n.W==L||yH(n.O,L)))if(!L.Zl&&yH(n.O,L)&&n.v5==3){try{var C=n.fY.W.parse(m)}catch(N){C=null}if(Array.isArray(C)&&C.length==3){var Z=C;if(Z[0]==0)a:{if(!n.T){if(n.W)if(n.W.Wv+3E3<L.Wv)jP(n),oR(n);else break a;cU(n);hi(18)}}else n.Xe=Z[1],0<n.Xe-n.xU&&Z[2]<37500&&n.m3&&n.C==0&&!n.wd&&(n.wd=ri((0,g.Sx)(n.Lx,n),6E3));if(Ld(n.O)<=1&&n.CI){try{n.CI()}catch(N){}n.CI=void 0}}else mK(n,11)}else if((L.Zl||n.W==L)&&jP(n),!g.zf(m))for(Z=n.fY.W.parse(m),m=0;m<Z.length;m++){let N=Z[m];const T=N[0];
if(!(T<=n.xU))if(n.xU=T,N=N[1],n.v5==2)if(N[0]=="c"){n.G=N[1];n.zb=N[2];const V=N[3];V!=null&&(n.Zw=V);const a=N[5];a!=null&&typeof a==="number"&&a>0&&(n.Mb=1.5*a);C=n;const D=L.wS();if(D){const R=g.dz(D,"X-Client-Wire-Protocol");if(R){var z=C.O;!z.W&&(g.v_(R,"spdy")||g.v_(R,"quic")||g.v_(R,"h2"))&&(z.G=z.L,z.W=new Set,z.O&&(nd(z,z.O),z.O=null))}if(C.zo){const I=g.dz(D,"X-HTTP-Session-Id");I&&(C.N6=I,g.va(C.KI,C.zo,I))}}n.v5=3;n.L&&n.L.x0();n.gx&&(n.xk=Date.now()-L.Wv);C=n;var v=L;C.lj=mwH(C,C.Zl?
C.zb:null,C.mY);if(v.Zl){nUr(C.O,v);var E=v,X=C.Mb;X&&E.setTimeout(X);E.wd&&(xt(E),WU(E));C.W=v}else C5H(C);n.J.length>0&&Cd(n)}else N[0]!="stop"&&N[0]!="close"||mK(n,7);else n.v5==3&&(N[0]=="stop"||N[0]=="close"?N[0]=="stop"?mK(n,7):n.disconnect():N[0]!="noop"&&n.L&&n.L.UU(N),n.C=0)}uE(4)}catch(N){}},ZQF=function(L){this.L=L||10;
g.X8.PerformanceNavigationTiming?(L=g.X8.performance.getEntriesByType("navigation"),L=L.length>0&&(L[0].nextHopProtocol=="hq"||L[0].nextHopProtocol=="h2")):L=!!(g.X8.chrome&&g.X8.chrome.loadTimes&&g.X8.chrome.loadTimes()&&g.X8.chrome.loadTimes().wasFetchedViaSpdy);this.G=L?this.L:1;this.W=null;this.G>1&&(this.W=new Set);this.O=null;this.J=[]},zM_=function(L){return L.O?!0:L.W?L.W.size>=L.G:!1},Ld=function(L){return L.O?1:L.W?L.W.size:0},yH=function(L,m){return L.O?L.O==m:L.W?L.W.has(m):!1},nd=function(L,
m){L.W?L.W.add(m):L.O=m},nUr=function(L,m){L.O&&L.O==m?L.O=null:L.W&&L.W.has(m)&&L.W.delete(m)},zw=function(L){if(L.O!=null)return L.J.concat(L.O.C);
if(L.W!=null&&L.W.size!==0){let m=L.J;for(const n of L.W.values())m=m.concat(n.C);return m}return g.T0(L.J)},vUo=function(L,m){const n=new kt;
if(g.X8.Image){const C=new Image;C.onload=g.IU(vF,n,"TestLoadImage: loaded",!0,m,C);C.onerror=g.IU(vF,n,"TestLoadImage: error",!1,m,C);C.onabort=g.IU(vF,n,"TestLoadImage: abort",!1,m,C);C.ontimeout=g.IU(vF,n,"TestLoadImage: timeout",!1,m,C);g.X8.setTimeout(function(){if(C.ontimeout)C.ontimeout()},1E4);
C.src=L}else m(!1)},EUD=function(L,m){const n=new kt,C=new AbortController,Z=setTimeout(()=>{C.abort();
vF(n,"TestPingServer: timeout",!1,m)},1E4);
fetch(L,{signal:C.signal}).then(z=>{clearTimeout(Z);z.ok?vF(n,"TestPingServer: ok",!0,m):vF(n,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(Z);
vF(n,"TestPingServer: error",!1,m)})},vF=function(L,m,n,C,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),C(n)}catch(z){}},XfD=function(){this.W=new EQ},XJ=function(L,m,n){return n&&n.cN?n.cN[L]||m:m},N6r=function(L){this.J=[];
this.zb=this.lj=this.KI=this.mY=this.W=this.N6=this.zo=this.nI=this.S=this.Ij=this.j=null;this.iL=this.SD=0;this.CY=XJ("failFast",!1,L);this.m3=this.wd=this.T=this.U=this.L=null;this.nu=!0;this.Xe=this.xU=-1;this.tQ=this.C=this.Wv=0;this.oL=XJ("baseRetryDelayMs",5E3,L);this.FS=XJ("retryDelaySeedMs",1E4,L);this.bL=XJ("forwardChannelMaxRetries",2,L);this.vD=XJ("forwardChannelRequestTimeoutMs",2E4,L);this.rV=L&&L.JPZ||void 0;this.MX=L&&L.qmd||void 0;this.e9=L&&L.kHd||!1;this.Mb=void 0;this.Zl=L&&L.OB||
!1;this.G="";this.O=new ZQF(L&&L.f0Z);this.fY=new XfD;this.jD=L&&L.GXD||!1;this.fI=L&&L.uej||!1;this.jD&&this.fI&&(this.fI=!1);this.Tm=L&&L.PjD||!1;L&&L.LmZ&&(this.nu=!1);this.gx=!this.jD&&this.nu&&L&&L.CjU||!1;this.D0=void 0;L&&L.K1&&L.K1>0&&(this.D0=L.K1);this.CI=void 0;this.xk=0;this.l1=!1;this.yH=this.Je=null},oR=function(L){L.W&&(N7(L),L.W.cancel(),L.W=null)},T6o=function(L){oR(L);
L.T&&(g.X8.clearTimeout(L.T),L.T=null);jP(L);L.O.cancel();L.U&&(typeof L.U==="number"&&g.X8.clearTimeout(L.U),L.U=null)},Cd=function(L){zM_(L.O)||L.U||(L.U=!0,g.yL(L.g4,L),L.Wv=0)},iQ_=function(L,m){if(Ld(L.O)>=L.O.G-(L.U?1:0))return!1;
if(L.U)return L.J=m.C.concat(L.J),!0;if(L.v5==1||L.v5==2||L.Wv>=(L.CY?0:L.bL))return!1;L.U=ri((0,g.Sx)(L.g4,L,m),V4l(L,L.Wv));L.Wv++;return!0},app=function(L,m){var n;
m?n=m.zb:n=L.SD++;const C=L.KI.clone();g.va(C,"SID",L.G);g.va(C,"RID",n);g.va(C,"AID",L.xU);Tw(L,C);L.S&&L.j&&g.$s(C,L.S,L.j);n=new HU(L,L.G,n,L.Wv+1);L.S===null&&(n.KI=L.j);m&&(L.J=m.C.concat(L.J));m=$ww(L,n,1E3);n.setTimeout(Math.round(L.vD*.5)+Math.round(L.vD*.5*Math.random()));nd(L.O,n);Yt(n,C,m)},Tw=function(L,m){L.nI&&g.bp(L.nI,function(n,C){g.va(m,C,n)});
L.L&&g.bp({},function(n,C){g.va(m,C,n)})},$ww=function(L,m,n){n=Math.min(L.J.length,n);
const C=L.L?(0,g.Sx)(L.L.nx,L.L,L):null;a:{var Z=L.J;let E=-1;for(;;){const X=["count="+n];E==-1?n>0?(E=Z[0].W,X.push("ofs="+E)):E=0:X.push("ofs="+E);let N=!0;for(let T=0;T<n;T++){var z=Z[T].W;const V=Z[T].map;z-=E;if(z<0)E=Math.max(0,Z[T].W-100),N=!1;else try{z="req"+z+"_"||"";try{var v=V instanceof Map?V:Object.entries(V);for(const [a,D]of v){let R=D;g.RU(D)&&(R=g.Mg(D));X.push(z+a+"="+encodeURIComponent(R))}}catch(a){throw X.push(z+"type="+encodeURIComponent("_badmap")),a;}}catch(a){C&&C(V)}}if(N){v=
X.join("&");break a}}v=void 0}L=L.J.splice(0,n);m.C=L;return v},C5H=function(L){L.W||L.T||(L.tQ=1,g.yL(L.KG,L),L.C=0)},cU=function(L){if(L.W||L.T||L.C>=3)return!1;
L.tQ++;L.T=ri((0,g.Sx)(L.KG,L),V4l(L,L.C));L.C++;return!0},N7=function(L){L.Je!=null&&(g.X8.clearTimeout(L.Je),L.Je=null)},qwF=function(L){L.W=new HU(L,L.G,"rpc",L.tQ);
L.S===null&&(L.W.KI=L.j);L.W.Mb=0;var m=L.lj.clone();g.va(m,"RID","rpc");g.va(m,"SID",L.G);g.va(m,"AID",L.xU);g.va(m,"CI",L.m3?"0":"1");!L.m3&&L.D0&&g.va(m,"TO",L.D0);g.va(m,"TYPE","xmlhttp");Tw(L,m);L.S&&L.j&&g.$s(m,L.S,L.j);L.Mb&&L.W.setTimeout(L.Mb);var n=L.W;L=L.zb;n.xU=1;n.T=vU(m.clone());n.j=null;n.zo=!0;dnD(n,L)},jP=function(L){L.wd!=null&&(g.X8.clearTimeout(L.wd),L.wd=null)},LiZ=function(L,m){var n=null;
if(L.W==m){jP(L);N7(L);L.W=null;var C=2}else if(yH(L.O,m))n=m.C,nUr(L.O,m),C=1;else return;if(L.v5!=0)if(m.U)if(C==1){n=m.j?m.j.length:0;m=Date.now()-m.Wv;var Z=L.Wv;C=FF();C.dispatchEvent(new WvH(C,n,m,Z));Cd(L)}else C5H(L);else{var z=m.CI;Z=m.getLastError();if(Z==3||Z==0&&z>0||!(C==1&&iQ_(L,m)||C==2&&cU(L)))switch(n&&n.length>0&&(m=L.O,m.J=m.J.concat(n)),Z){case 1:mK(L,5);break;case 4:mK(L,10);break;case 3:mK(L,6);break;default:mK(L,2)}}},V4l=function(L,m){let n=L.oL+Math.floor(Math.random()*L.FS);
L.isActive()||(n*=2);return n*m},mK=function(L,m){if(m==2){var n=(0,g.Sx)(L.aB,L),C=L.MX;
const Z=!C;C=new g.om(C||"//www.google.com/images/cleardot.gif");g.X8.location&&g.X8.location.protocol=="http"||g.cu(C,"https");vU(C);Z?vUo(C.toString(),n):EUD(C.toString(),n)}else hi(2);L.v5=0;L.L&&L.L.sU(m);DwZ(L);T6o(L)},DwZ=function(L){L.v5=0;
L.yH=[];if(L.L){const m=zw(L.O);if(m.length!=0||L.J.length!=0)g.ip(L.yH,m),g.ip(L.yH,L.J),L.O.J.length=0,g.T0(L.J),L.J.length=0;L.L.c7()}},OQ1=function(L){if(L.v5==0)return L.yH;
let m=[];g.ip(m,zw(L.O));g.ip(m,L.J);return m},mwH=function(L,m,n){var C=g.Ek(n);
C.W!=""?(m&&g.Lk(C,m+"."+C.W),g.mt(C,C.J)):(C=g.X8.location,C=TxF(C.protocol,m?m+"."+C.hostname:C.hostname,+C.port,n));m=L.zo;n=L.N6;m&&n&&g.va(C,m,n);g.va(C,"VER",L.Zw);Tw(L,C);return C},Kvp=function(L,m,n){if(m&&!L.Zl)throw Error("Can't create secondary domain capable XhrIo object.");
m=L.e9&&!L.rV?new g.PO(new g.dL({zU:n})):new g.PO(L.rV);m.S=L.Zl;return m},lp_=function(){},RM0=function(){},ik=function(L,m){g.Bh.call(this);
this.W=new N6r(m);this.U=L;this.O=m&&m.tX||null;L=m&&m.Wd||null;m&&m.l0K&&(L?L["X-Client-Protocol"]="webchannel":L={"X-Client-Protocol":"webchannel"});this.W.j=L;L=m&&m.Q63||null;m&&m.SR&&(L?L["X-WebChannel-Content-Type"]=m.SR:L={"X-WebChannel-Content-Type":m.SR});m&&m.C9&&(L?L["X-WebChannel-Client-Profile"]=m.C9:L={"X-WebChannel-Client-Profile":m.C9});this.W.Ij=L;(L=m&&m.FVD)&&!g.zf(L)&&(this.W.S=L);this.S=m&&m.OB||!1;this.L=m&&m.Tul||!1;(m=m&&m.Rq)&&!g.zf(m)&&(this.W.zo=m,g.hJ(this.O,m)&&(L=this.O,
m in L&&delete L[m]));this.J=new V_(this)},wf_=function(L){QH.call(this);
L.__headers__&&(this.headers=L.__headers__,this.statusCode=L.__status__,delete L.__headers__,delete L.__status__);const m=L.__sm__;m?this.data=(this.W=g.Pz(m))?g.G0(m,this.W):m:this.data=L},eMH=function(L){pL.call(this);
this.status=1;this.errorCode=L},V_=function(L){this.W=L},$D=function(L,m){this.G=L;
this.W=m},aB=function(L,m){if(typeof L!=="function")throw Error("Fn must not be null and must be a function");
return g.X8.setTimeout(function(){L()},m)},Dt=function(){q7.dispatchEvent(new gUH)},OQ=function(L,m,n,C){this.W=L;
this.G=m;this.S=n;this.U=C||1;this.O=45E3;this.J=new g.a0(this);this.L=new g.Ng;this.L.setInterval(250)},Sw$=function(L,m,n){L.CU=1;
L.PX=vU(m.clone());L.c8=n;L.zo=!0;M4D(L,null)},lk=function(L,m,n,C,Z){L.CU=1;
L.PX=vU(m.clone());L.c8=null;L.zo=n;Z&&(L.vn=!1);M4D(L,C)},M4D=function(L,m){L.eA=Date.now();
RB(L);L.V8=L.PX.clone();EP(L.V8,"t",L.U);L.q4=0;L.s5=L.W.q0(L.W.A$()?m:null);L.CM>0&&(L.pU=new g.Cg((0,g.Sx)(L.r4,L,L.s5),L.CM));L.J.listen(L.s5,"readystatechange",L.Zb);m=L.gI?g.KF(L.gI):{};L.c8?(L.dL="POST",m["Content-Type"]="application/x-www-form-urlencoded",L.s5.send(L.V8,L.dL,L.c8,m)):(L.dL="GET",L.vn&&!g.q4&&(m.Connection="close"),L.s5.send(L.V8,L.dL,null,m));L.W.ZL(1)},Jrr=function(L,m){var n=L.q4,C=m.indexOf("\n",n);
if(C==-1)return wA;n=Number(m.substring(n,C));if(isNaN(n))return Ip1;C+=1;if(C+n>m.length)return wA;m=m.slice(C,C+n);L.q4=C+n;return m},RB=function(L){L.dY=Date.now()+L.O;
Ar0(L,L.O)},Ar0=function(L,m){if(L.Uj!=null)throw Error("WatchDog timer not null");
L.Uj=aB((0,g.Sx)(L.Ra,L),m)},bQl=function(L){L.Uj&&(g.X8.clearTimeout(L.Uj),L.Uj=null)},es=function(L){L.W.Dg()||L.BX||L.W.IE(L)},gA=function(L){bQl(L);
g.gt(L.pU);L.pU=null;L.L.stop();L.J.removeAll();if(L.s5){const m=L.s5;L.s5=null;m.abort();m.dispose()}L.HP&&(L.HP=null)},t4f=function(L,m){try{L.W.mI(L,m),L.W.ZL(4)}catch(n){}},Uw0=function(L,m,n,C,Z){if(C==0)n(!1);
else{var z=Z||0;C--;fpJ(L,m,function(v){v?n(!0):g.X8.setTimeout(function(){Uw0(L,m,n,C,z)},z)})}},fpJ=function(L,m,n){const C=new Image;
C.onload=function(){try{M7(C),n(!0)}catch(Z){}};
C.onerror=function(){try{M7(C),n(!1)}catch(Z){}};
C.onabort=function(){try{M7(C),n(!1)}catch(Z){}};
C.ontimeout=function(){try{M7(C),n(!1)}catch(Z){}};
g.X8.setTimeout(function(){if(C.ontimeout)C.ontimeout()},m);
C.src=L},M7=function(L){L.onload=null;
L.onerror=null;L.onabort=null;L.ontimeout=null},B6$=function(L){this.W=L;
this.O=new EQ},P5p=function(L){const m=Ss(L.W,L.Ay,"/mail/images/cleardot.gif");
vU(m);Uw0(m.toString(),5E3,(0,g.Sx)(L.FG,L),3,2E3);L.ZL(1)},JB=function(L){var m=L.W.U;
m!=null?(Dt(),m?(Dt(),IB(L.W,L,!1)):(Dt(),IB(L.W,L,!0))):(L.vF=new OQ(L),L.vF.gI=L.u0,m=L.W,m=Ss(m,m.A$()?L.IH:null,L.Xs),Dt(),EP(m,"TYPE","xmlhttp"),lk(L.vF,m,!1,L.IH,!1))},AB=function(L,m,n){this.W=1;
this.O=[];this.J=[];this.L=new EQ;this.j=L||null;this.U=m!=null?m:null;this.T=n||!1},sjD=function(L,m){this.W=L;
this.map=m;this.context=null},Qjz=function(L,m,n,C){g.iy.call(this,"timingevent",L);
this.size=m;this.rtt=n;this.retries=C},pf1=function(L){g.iy.call(this,"serverreachability",L)},Fiw=function(L){L.Kx(1,0);
L.Xk=Ss(L,null,L.Wo);bk(L)},uQ$=function(L){L.gC&&(L.gC.abort(),L.gC=null);
L.X1&&(L.X1.cancel(),L.X1=null);L.Q5&&(g.X8.clearTimeout(L.Q5),L.Q5=null);tB(L);L.nf&&(L.nf.cancel(),L.nf=null);L.JB&&(g.X8.clearTimeout(L.JB),L.JB=null)},fd=function(L,m){if(L.W==0)throw Error("Invalid operation: sending map when state is closed");
L.O.push(new sjD(L.gA++,m));L.W!=2&&L.W!=3||bk(L)},hMl=function(L){let m=0;
L.X1&&m++;L.nf&&m++;return m},bk=function(L){L.nf||L.JB||(L.JB=aB((0,g.Sx)(L.T1,L),0),L.mD=0)},kir=function(L,m){if(L.W==1){if(!m){L.Ee=Math.floor(Math.random()*1E5);
m=L.Ee++;const n=new OQ(L,"",m);n.gI=L.Bp;const C=UQ(L),Z=L.Xk.clone();g.va(Z,"RID",m);g.va(Z,"CVER","1");BF(L,Z);Sw$(n,Z,C);L.nf=n;L.W=2}}else L.W==3&&(m?rrz(L,m):L.O.length==0||L.nf||rrz(L))},rrz=function(L,m){if(m)if(L.sT>6){L.O=L.J.concat(L.O);
L.J.length=0;var n=L.Ee-1;m=UQ(L)}else n=m.S,m=m.c8;else n=L.Ee++,m=UQ(L);const C=L.Xk.clone();g.va(C,"SID",L.G);g.va(C,"RID",n);g.va(C,"AID",L.Sz);BF(L,C);n=new OQ(L,L.G,n,L.mD+1);n.gI=L.Bp;n.setTimeout(1E4+Math.round(1E4*Math.random()));L.nf=n;Sw$(n,C,m)},BF=function(L,m){L.jr&&(L=L.jr.hS())&&g.bp(L,function(n,C){g.va(m,C,n)})},UQ=function(L){const m=Math.min(L.O.length,1E3),n=["count="+m];
let C;L.sT>6&&m>0?(C=L.O[0].W,n.push("ofs="+C)):C=0;for(let Z=0;Z<m;Z++){let z=L.O[Z].W;const v=L.O[Z].map;z=L.sT<=6?Z:z-C;try{g.bp(v,function(E,X){n.push("req"+z+"_"+X+"="+encodeURIComponent(E))})}catch(E){n.push("req"+z+"_type="+encodeURIComponent("_badmap"))}}L.J=L.J.concat(L.O.splice(0,m));
return n.join("&")},HQr=function(L){L.X1||L.Q5||(L.S=1,L.Q5=aB((0,g.Sx)(L.Qs,L),0),L.NL=0)},PF=function(L){if(L.X1||L.Q5||L.NL>=3)return!1;
L.S++;L.Q5=aB((0,g.Sx)(L.Qs,L),Ywl(L,L.NL));L.NL++;return!0},IB=function(L,m,n){L.e1=L.U==null?n:!L.U;
L.M8=m.F9;L.T||Fiw(L)},tB=function(L){L.UT!=null&&(g.X8.clearTimeout(L.UT),L.UT=null)},Ywl=function(L,m){let n=5E3+Math.floor(Math.random()*1E4);
L.isActive()||(n*=2);return n*m},sQ=function(L,m){if(m==2||m==9){var n=null;
L.jr&&(n=null);var C=(0,g.Sx)(L.RB,L);n||(n=new g.om("//www.google.com/images/cleardot.gif"),vU(n));fpJ(n.toString(),1E4,C)}else Dt();Wiz(L,m)},Wiz=function(L,m){L.W=0;
L.jr&&L.jr.MM(m);Gif(L);uQ$(L)},Gif=function(L){L.W=0;
L.M8=-1;if(L.jr)if(L.J.length==0&&L.O.length==0)L.jr.tq();else{const m=g.T0(L.J),n=g.T0(L.O);L.J.length=0;L.O.length=0;L.jr.tq(m,n)}},Ss=function(L,m,n){let C=g.Ek(n);
if(C.W!="")m&&g.Lk(C,m+"."+C.W),g.mt(C,C.J);else{const Z=window.location;C=TxF(Z.protocol,m?m+"."+Z.hostname:Z.hostname,+Z.port,n)}L.fb&&g.bp(L.fb,function(Z,z){g.va(C,z,Z)});
g.va(C,"VER",L.sT);BF(L,C);return C},dwF=function(){},Kiw=function(){this.W=[];
this.O=[]},xw_=function(L,m){this.action=L;
this.params=m||{}},Q_=function(L,m){g.S_.call(this);
this.W=new g.ni(this.D6,0,this);g.J(this,this.W);this.YA=5E3;this.O=0;if(typeof L==="function")m&&(L=(0,g.Sx)(L,m));else if(L&&typeof L.handleEvent==="function")L=(0,g.Sx)(L.handleEvent,L);else throw Error("Invalid listener argument");this.J=L},pd=function(L,m,n=!1,C=()=>"",Z=!1,z=!1,v=!1,E=()=>g.dI({}),X=!1,N,T=!1,V=!1,a=!1,D=!1){this.xU=L;
this.wd=m;this.U=new g.H4;this.O=new Q_(this.BZ,this);this.W=null;this.S=!1;this.j=null;this.Wv="";this.C=this.T=0;this.J=[];this.yH=n;this.zo=C;this.L=z;this.KI=E;this.nI=N;this.tQ=v;this.Je=null;this.G=g.dI();this.zb=Z;this.Ij=X;this.jD=T;this.fI=V;this.mY=a;this.CI=D;this.Mb=new yr$;this.Zl=new jjp;this.l1=new oUw;this.SD=new cr$;this.m3=new LQ_;this.nu=new mB0;this.gx=new nm$},CCf=function(L,m,n,C,Z){FJ(L);
if(L.W){const z=g.B("ID_TOKEN"),v=L.W.Bp||{};z?v["x-youtube-identity-token"]=z:delete v["x-youtube-identity-token"];L.W.Bp=v}uk(L);C?(C.getState()!=3&&hMl(C)==0||C.getState(),L.W.connect(m,n,L.wd,C.G,C.Sz)):Z?L.W.connect(m,n,L.wd,Z.sessionId,Z.arrayId):L.W.connect(m,n,L.wd)},Emp=function(L,m){return L.mY?!0:L.fI?Object.values(Z7Z).includes(m):L.jD?!Object.values(zN0).includes(m):L.CI?Object.values(vmJ).includes(m):!1},XyZ=async function(L){try{await hB(L)}finally{var m=L.J;
L.J=[];var n=m;m=m.length;for(let C=0;C<m;++C)fd(L.W,n[C]);rA(L);rA(L)}},rA=function(L){L.publish("handlerOpened");
L.Mb.W("BROWSER_CHANNEL")},FJ=function(L){if(L.W){const m=L.zo(),n=L.W.Bp||{};
m?n["x-youtube-lounge-xsrf-token"]=m:delete n["x-youtube-lounge-xsrf-token"];L.W.Bp=n}},hB=function(L){if(L.Ij)return g.dI();
if(!L.tQ)return NUZ(L);L.Je===null&&(L.Je=NUZ(L));return L.Je},NUZ=function(L){return g.Lr(L.KI().then(m=>{TUZ(L,m)}).uS(()=>{}),()=>{L.Je=null})},TUZ=function(L,m){if(L.W){let n=L.W.Bp||{};
m&&Object.keys(m).length>0?n={...n,...m}:delete n.Authorization;L.W.Bp=n}},uk=function(L){L.nI&&!L.L&&TUZ(L,L.nI())},kD=function(L){this.scheme="https";
this.port=this.domain="";this.W="/api/lounge";this.O=!0;L=L||document.location.href;const m=Number(g.Ip(L)[4]||null)||"";m&&(this.port=":"+m);this.domain=g.As(L)||"";L=g.im();L.search("MSIE")>=0&&(L=L.match(/MSIE ([\d.]+)/)[1],g.Ne(L,"10.0")<0&&(this.O=!1))},HF=function(L,m){let n=L.W;
L.O&&(n=L.scheme+"://"+L.domain+L.port+L.W);return g.Fk(n+m,{})},Vi0=function(L){g.eJ(L.channel,"m",()=>{L.U=3;
L.J.reset();L.T=null;L.S=0;for(const m of L.C)L.channel&&L.channel.send(m);L.C=[];L.publish("webChannelOpened");L.KI.W("WEB_CHANNEL")});
g.eJ(L.channel,"n",()=>{L.U=0;L.J.isActive()||L.publish("webChannelClosed");const m=L.channel?.G().J();m&&(L.C=[...m]);L.Je.W("WEB_CHANNEL")});
g.eJ(L.channel,"p",m=>{const n=m.data;n[0]==="gracefulReconnect"?(L.J.start(),L.channel&&L.channel.close()):L.publish("webChannelMessage",new xw_(n[0],n[1]));L.Qf=m.statusCode;L.nI.W("WEB_CHANNEL")});
g.eJ(L.channel,"o",()=>{L.Qf===401||L.J.start();L.publish("webChannelError");L.zo.W("WEB_CHANNEL","")})},YD=function(L){const m=L.Wv();
m?L.G["x-youtube-lounge-xsrf-token"]=m:delete L.G["x-youtube-lounge-xsrf-token"]},q1Z=function(L,m,n=()=>"",C,Z){const z=()=>new pd(HF(L,"/bc"),m,!1,n,C);
return g.or("enable_mdx_web_channel_desktop")?new i71(()=>new $BJ(HF(L,"/wc"),m,n)):new arp(z,Z)},RN0=function(){var L=DBl;
O7o();WF.push(L);lr_()},Gw=function(L,m){O7o();
const n=wy$(L,String(m));WF.length==0?eNF(n):(lr_(),g.pJ(WF,function(C){C(n)}))},dA=function(L){Gw("CP",L)},O7o=function(){WF||(WF=g.$P("yt.mdx.remote.debug.handlers_")||[],g.V2("yt.mdx.remote.debug.handlers_",WF))},eNF=function(L){const m=(Kd+1)%50;
Kd=m;xD[m]=L;y_||(y_=m==49)},lr_=function(){var L=WF;
if(xD[0]){var m=y_?Kd:-1;do{m=(m+1)%50;const n=xD[m];g.pJ(L,function(C){C(n)})}while(m!=Kd);
xD=Array(50);Kd=-1;y_=!1}},wy$=function(L,m){let n=(Date.now()-gm_)/1E3;
n.toFixed&&(n=n.toFixed(3));const C=[];C.push("[",n+"s","] ");C.push("[","yt.mdx.remote","] ");C.push(L+": "+m,"\n");return C.join("")},js=function(L){g.tS.call(this);
this.U=L;this.screens=[]},Mil=function(L,m){const n=L.get(m.uuid)||L.get(m.id);
if(n)return L=n.name,n.id=m.id||n.id,n.name=m.name,n.token=m.token,n.uuid=m.uuid||n.uuid,n.name!=L;L.screens.push(m);return!0},S1f=function(L,m){let n=L.screens.length!=m.length;
L.screens=g.ug(L.screens,function(Z){return!!RR(m,Z)});
const C=m.length;for(let Z=0;Z<C;Z++)n=Mil(L,m[Z])||n;return n},Ir0=function(L,m){const n=L.screens.length;
L.screens=g.ug(L.screens,function(C){return!(C||m?!C!=!m?0:C.id==m.id:1)});
return L.screens.length<n},cF=function(L){js.call(this,"LocalScreenService");
this.O=L;this.W=NaN;oB(this);this.info("Initializing with "+OP(this.screens))},Jsw=function(L){if(L.screens.length){const m=g.h_(L.screens,function(C){return C.id}),n=HF(L.O,"/pairing/get_lounge_token_batch");
L.O.sendRequest("POST",n,{screen_ids:m.join(",")},(0,g.Sx)(L.tL,L),(0,g.Sx)(L.WN,L))}},oB=function(L){if(g.or("deprecate_pair_servlet_enabled"))return S1f(L,[]);
var m=wSZ(JLr());m=g.ug(m,function(n){return!n.uuid});
return S1f(L,m)},L1=function(L,m){btD(g.h_(L.screens,lI0));
m&&AL1()},mx=function(L){Gw("OnlineScreenService",L)},n1=function(L){isNaN(L.J)||g.xG(L.J);
L.J=g.d9((0,g.Sx)(L.S,L),L.G>0&&L.G<g.J_()?2E4:1E4)},C1=function(L,m){a:if(XF(m)!=XF(L.W))var n=!1;
else{n=g.up(m);var C=n.length;for(let Z=0;Z<C;++Z)if(!L.W[n[Z]]){n=!1;break a}n=!0}n||(mx("Updated online screens: "+g.Mg(L.W)),L.W=m,L.publish("screenChange"));AsZ(L)},Z3=function(L,m,n){const C=HF(L.L,"/pairing/get_screen_availability");
L.L.sendRequest("POST",C,{lounge_token:m.token},(0,g.Sx)(function(Z){Z=Z.screens||[];const z=Z.length;for(let v=0;v<z;++v)if(Z[v].loungeToken==m.token){n(Z[v].status=="online");return}n(!1)},L),(0,g.Sx)(function(){n(!1)},L))},AsZ=function(L){L=g.up(g.tJ(L.W,function(m){return m}));
g.gH(L);L.length?g.tM("yt-remote-online-screen-ids",L.join(","),60):g.Uv("yt-remote-online-screen-ids")},b7l=function(L){const m={};
g.pJ(L.U(),function(n){n.token?m[n.token]=n.id:this.aJ("Requesting availability of screen w/o lounge token.")});
return m},zk=function(L,m=!1){js.call(this,"ScreenService");
this.G=L;this.S=m;this.W=this.O=null;this.J=[];this.L={};tiD(this)},UB0=function(L,m,n,C,Z,z){L.info("getAutomaticScreenByIds "+n+" / "+m);
n||(n=L.L[m]);const v=L.IF();let E=n?wi(v,n):null;n&&(L.S||E)||(E=wi(v,m));if(E){E.uuid=m;const X=vI(L,E);Z3(L.W,X,function(N){Z(N?X:null)})}else n?fr1(L,n,(0,g.Sx)(function(X){const N=vI(this,new aR({name:C,
screenId:n,loungeToken:X,dialId:m||""}));Z3(this.W,N,function(T){Z(T?N:null)})},L),z):Z(null)},BUH=function(L,m){const n=L.screens.length;
for(let C=0;C<n;++C)if(L.screens[C].name==m)return L.screens[C];return null},PC_=function(L,m,n){Z3(L.W,m,n)},fr1=function(L,m,n,C){L.info("requestLoungeToken_ for "+m);
const Z={postParams:{screen_ids:m},method:"POST",context:L,onSuccess:function(z,v){z=v&&v.screens||[];z[0]&&z[0].screenId==m?n(z[0].loungeToken):C(Error("Missing lounge token in token response"))},
onError:function(){C(Error("Request screen lounge token failed"))}};
g.Zy(HF(L.G,"/pairing/get_lounge_token_batch"),Z)},spZ=function(L){L.screens=L.O.IF();
var m=L.L;const n={};for(var C in m)n[m[C]]=C;m=L.screens.length;for(C=0;C<m;++C){const Z=L.screens[C];Z.uuid=n[Z.id]||""}L.info("Updated manual screens: "+OP(L.screens))},tiD=function(L){EF(L);
L.O=new cF(L.G);L.O.subscribe("screenChange",(0,g.Sx)(L.z3,L));spZ(L);L.S||(L.J=wSZ(g.fe("yt-remote-automatic-screen-cache")||[]));EF(L);L.info("Initializing automatic screens: "+OP(L.J));L.W=new QpZ(L.G,(0,g.Sx)(L.IF,L,!0));L.W.subscribe("screenChange",(0,g.Sx)(function(){this.publish("onlineScreenChange")},L))},vI=function(L,m){var n=L.get(m.id);
n?(n.uuid=m.uuid,m=n):((n=wi(L.J,m.uuid))?(n.id=m.id,n.token=m.token,m=n):L.J.push(m),L.S||pyF(L));EF(L);L.L[m.uuid]=m.id;g.tM("yt-remote-device-id-map",L.L,31536E3);return m},pyF=function(L){L=g.ug(L.J,m=>m.idType!="shortLived");
g.tM("yt-remote-automatic-screen-cache",g.h_(L,lI0))},EF=function(L){L.L=g.fe("yt-remote-device-id-map")||{}},XV=function(L,m,n){g.tS.call(this);
this.zo=n;this.G=L;this.O=m;this.W=null},N9=function(L,m){L.W=m;
L.publish("sessionScreen",L.W)},FQ0=function(L,m){L.W&&(L.W.token=m,vI(L.G,L.W));
L.publish("sessionScreen",L.W)},Tk=function(L,m){Gw(L.zo,m)},hNF=function(L,m){g.xG(L.wd);
L.wd=0;m?L.config_.enableCastLoungeToken&&m.loungeToken?m.deviceId?L.W&&L.W.uuid==m.deviceId||(m.loungeTokenRefreshIntervalMs?uk$(L,{name:L.O.friendlyName,screenId:m.screenId,loungeToken:m.loungeToken,dialId:m.deviceId,screenIdType:"shortLived"},m.loungeTokenRefreshIntervalMs):(g.Mu(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(m)}.`)),Ve(L,m.screenId))):(g.Mu(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(m)}.`)),Ve(L,m.screenId)):
Ve(L,m.screenId):L.j3(Error("Waiting for session status timed out."))},rsr=function(L){g.xG(L.j);
L.j=0;g.xG(L.S);L.S=0;g.xG(L.wd);L.wd=0;g.xG(L.L);L.L=0;g.xG(L.T);L.T=0},kG$=function(L,m){L.info("sendYoutubeMessage_: "+m+" "+g.Mg());
const n={};n.type=m;L.J?L.J.sendMessage("urn:x-cast:com.google.youtube.mdx",n,()=>{},(0,g.Sx)(function(){Tk(this,"Failed to send message: "+m+".")},L)):Tk(L,"Sending yt message without session: "+g.Mg(n))},Y1Z=function(L){kG$(L,"getLoungeToken");
g.xG(L.L);L.L=g.d9(()=>{H7w(L,null)},3E4)},ir=function(L,m){g.xG(L.T);
L.T=0;m==0?Y1Z(L):L.T=g.d9(()=>{Y1Z(L)},m)},H7w=function(L,m){g.xG(L.L);
L.L=0;let n=null;m?m.loungeToken?L.W?.token==m.loungeToken&&(n="staleLoungeToken"):n="missingLoungeToken":n="noLoungeTokenResponse";n?(L.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(m)}, error: ${n}`),ir(L,3E4)):(FQ0(L,m.loungeToken),ir(L,m.loungeTokenRefreshIntervalMs))},Ve=function(L,m){m?(L.info("onConnectedScreenId_: Received screenId: "+m),L.W&&L.W.id==m||L.nI(m,n=>{N9(L,n)},()=>L.j3(),5)):L.j3(Error("Waiting for session status timed out."))},WQo=
function(L,m,n,C){g.xG(L.S);
L.S=0;PC_(L.G,m,Z=>{Z||C<0?n(Z):L.S=g.d9(()=>{WQo(L,m,n,C-1)},300)})},uk$=function(L,m,n){L.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(m)}`);
const C=new aR(m);WQo(L,C,Z=>{Z?(vI(L.G,C),N9(L,C),ir(L,n)):(g.Mu(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(m)} is not online.`)),L.j3())},5)},$E=function(L){return new Promise(m=>{L.Wv=lE();
if(L.KI){const n=new chrome.cast.DialLaunchResponse(!0,GGp(L));m(n);dB$(L)}else L.C=()=>{g.xG(L.wd);L.C=()=>{};
L.wd=NaN;const n=new chrome.cast.DialLaunchResponse(!0,GGp(L));m(n);dB$(L)},L.wd=g.d9(()=>{L.C()},100)})},KQ_=function(L){g.xG(L.S);
L.S=0;g.xG(L.T);L.T=0;L.L();L.L=()=>{};
g.xG(L.wd)},aQ=function(L){return!(!L.config_.enableDialLoungeToken||!L.J?.getDialAppInfo)},q9=function(L,m){L.info(`getDialAppInfoWithTimeout_ ${m}`);
aQ(L)&&(g.xG(L.T),L.T=0,m==0?xB$(L):L.T=g.d9(()=>{xB$(L)},m))},dB$=function(L){L.L=L.G.AS(L.Wv,L.O.label,L.O.friendlyName,aQ(L),(m,n)=>{L.L=()=>{};
N9(L,m);m.idType=="shortLived"&&n>0&&q9(L,n)},m=>{L.L=()=>{};
L.j3(m)})},GGp=function(L){var m={};
m.pairingCode=L.Wv;m.theme=L.xU;fIF()&&(m.env_useStageMdx=1);return g.p7(m)},ysp=function(L,m){const n=L.j.receiver.label,C=L.O.friendlyName;
return(new Promise(Z=>{UB0(L.G,n,m,C,z=>{z&&z.token&&N9(L,z);Z(z)},z=>{Tk(L,"Failed to get DIAL screen: "+z);
Z(null)})})).then(Z=>Z&&Z.token?new chrome.cast.DialLaunchResponse(!1):$E(L))},omf=function(L,m,n){L.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(m)}`);
const C=new aR(m);return(new Promise(Z=>{jpJ(L,C,z=>{z?(vI(L.G,C),N9(L,C),q9(L,n)):g.Mu(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(m)} is not online.`));Z(z)},5)})).then(Z=>Z?new chrome.cast.DialLaunchResponse(!1):$E(L))},jpJ=function(L,m,n,C){g.xG(L.S);
L.S=0;PC_(L.G,m,Z=>{Z||C<0?n(Z):L.S=g.d9(()=>{jpJ(L,m,n,C-1)},300)})},xB$=function(L){aQ(L)&&L.J.getDialAppInfo(m=>{L.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(m)}`);
m=m.extraData||{};let n=null;m.loungeToken?L.W?.token==m.loungeToken&&(n="staleLoungeToken"):n="missingLoungeToken";n?q9(L,3E4):(FQ0(L,m.loungeToken),q9(L,m.loungeTokenRefreshIntervalMs))},m=>{L.info(`getDialAppInfo error: ${m}`);
q9(L,3E4)})},DBl=function(L){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(L)},LUH=function(L){const m=L.O.eB();
let n=L.W&&L.W.O;L=g.h_(m,function(C){n&&q2(C,n.label)&&(n=null);const Z=C.uuid?C.uuid:C.id;let z=csH(this,C);z?(z.label=Z,z.friendlyName=C.name):(z=new chrome.cast.Receiver(Z,C.name),z.receiverType=chrome.cast.ReceiverType.CUSTOM);return z},L);
n&&(n.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(n=new chrome.cast.Receiver(n.label,n.friendlyName),n.receiverType=chrome.cast.ReceiverType.CUSTOM),L.push(n));return L},D3=function(L){return L.T||!!L.J.length||!!L.W},OF=function(L){Gw("Controller",L)},lr=function(L,m,n){m!=L.W&&(g.gt(L.W),(L.W=m)?(n?L.publish("yt-remote-cast2-receiver-resumed",m.O):L.publish("yt-remote-cast2-receiver-selected",m.O),m.subscribe("sessionScreen",(0,g.Sx)(L.wd,L,m)),m.subscribe("sessionFailed",()=>mT1(L,m)),m.W?
L.publish("yt-remote-cast2-session-change",m.W):n&&L.W.U(null)):L.publish("yt-remote-cast2-session-change",null))},csH=function(L,m){return m?g.Wm(L.J,function(n){return q2(m,n.label)},L):null},mT1=function(L,m){L.W==m&&L.publish("yt-remote-cast2-session-failed")},Ecf=function(L,m,n,C){C.disableCastApi?RQ("Cannot initialize because disabled by Mdx config."):ncw()?Cnl(m,C)&&(wS(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?ZA$(L,n):(window.__onGCastApiAvailable=function(Z,z){Z?ZA$(L,n):(eh("Failed to load cast API: "+
z),gS(!1),wS(!1),g.Uv("yt-remote-cast-available"),g.Uv("yt-remote-cast-receiver"),zX$(),n(!1))},C.loadCastApiSetupScript?g.ul(vcD):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?fL()>=60&&uff():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?BU():fL()>=89?rLr():(PU(),UP(hW0.map(QCl))))):RQ("Cannot initialize because not running Chrome")},zX$=function(){RQ("dispose");
const L=M9();L&&L.dispose();g.V2("yt.mdx.remote.cloudview.instance_",null);XtZ(!1);g.pD(Sh);Sh.length=0},IQ=function(){return!!g.fe("yt-remote-cast-installed")},Ntf=function(){const L=g.fe("yt-remote-cast-receiver");
return L?L.friendlyName:null},TtJ=function(){RQ("clearCurrentReceiver");
g.Uv("yt-remote-cast-receiver")},V__=function(){return IQ()?M9()?M9().getCastSession():(eh("getCastSelector: Cast is not initialized."),null):(eh("getCastSelector: Cast API is not installed!"),null)},AA=function(){IQ()?M9()?JA()?(RQ("Requesting cast selector."),M9().requestSession()):(RQ("Wait for cast API to be ready to request the session."),Sh.push(g.QC("yt-remote-cast2-api-ready",AA))):eh("requestCastSelector: Cast is not initialized."):eh("requestCastSelector: Cast API is not installed!")},br=
function(L,m){JA()?M9().setConnectedScreenStatus(L,m):eh("setConnectedScreenStatus called before ready.")},ncw=function(){var L=g.im().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.$e||L},iAr=function(L,m){M9().init(L,m)},Cnl=function(L,m){let n=!1;
M9()||(L=new tA(L,m),L.subscribe("yt-remote-cast2-availability-change",function(C){g.tM("yt-remote-cast-available",C);Ai("yt-remote-cast2-availability-change",C)}),L.subscribe("yt-remote-cast2-receiver-selected",function(C){RQ("onReceiverSelected: "+C.friendlyName);
g.tM("yt-remote-cast-receiver",C);Ai("yt-remote-cast2-receiver-selected",C)}),L.subscribe("yt-remote-cast2-receiver-resumed",function(C){RQ("onReceiverResumed: "+C.friendlyName);
g.tM("yt-remote-cast-receiver",C);Ai("yt-remote-cast2-receiver-resumed",C)}),L.subscribe("yt-remote-cast2-session-change",function(C){RQ("onSessionChange: "+DN(C));
C||g.Uv("yt-remote-cast-receiver");Ai("yt-remote-cast2-session-change",C)}),g.V2("yt.mdx.remote.cloudview.instance_",L),n=!0);
RQ("cloudview.createSingleton_: "+n);return n},M9=function(){return g.$P("yt.mdx.remote.cloudview.instance_")},ZA$=function(L,m){gS(!0);
wS(!1);iAr(L,function(n){n?(XtZ(!0),g.F9("yt-remote-cast2-api-ready")):(eh("Failed to initialize cast API."),gS(!1),g.Uv("yt-remote-cast-available"),g.Uv("yt-remote-cast-receiver"),zX$());m(n)})},RQ=function(L){Gw("cloudview",L)},eh=function(L){Gw("cloudview",L)},gS=function(L){RQ("setCastInstalled_ "+L);
g.tM("yt-remote-cast-installed",L)},JA=function(){return!!g.$P("yt.mdx.remote.cloudview.apiReady_")},XtZ=function(L){RQ("setApiReady_ "+L);
g.V2("yt.mdx.remote.cloudview.apiReady_",L)},wS=function(L){g.V2("yt.mdx.remote.cloudview.initializing_",L)},f1=function(L){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.L=this.U=0;this.trackData=null;this.Wp=this.KT=!1;this.T=this.J=this.S=this.O=0;this.W=NaN;this.G=!1;this.reset(L)},UF=function(L){L.audioTrackId=null;
L.trackData=null;L.playerState=-1;L.KT=!1;L.Wp=!1;L.U=0;L.L=g.J_();L.O=0;L.S=0;L.J=0;L.T=0;L.W=NaN;L.G=!1},BI=function(L){return L.isPlaying()?(g.J_()-L.L)/1E3:0},PI=function(L,m){L.U=m;
L.L=g.J_()},sF=function(L){switch(L.playerState){case 1:case 1081:return(g.J_()-L.L)/1E3+L.U;
case -1E3:return 0}return L.U},$T0=function(L){return L.G?L.S+BI(L):L.S},Qe=function(L,m,n){const C=L.videoId;
L.videoId=m;L.index=n;m!=C&&UF(L)},p1=function(L){const m={};
m.index=L.index;m.listId=L.listId;m.videoId=L.videoId;m.playerState=L.playerState;m.volume=L.volume;m.muted=L.muted;m.audioTrackId=L.audioTrackId;m.trackData=g.x_(L.trackData);m.hasPrevious=L.KT;m.hasNext=L.Wp;m.playerTime=L.U;m.playerTimeAt=L.L;m.seekableStart=L.O;m.seekableEnd=L.S;m.duration=L.J;m.loadedTime=L.T;m.liveIngestionTime=L.W;return m},avz=function(L){g.pJ("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(m){this.S.push(this.G.subscribe(m,g.IU(this.Zl,m),this))},L)},FV=function(L,m){L.O&&(L.O.removeUpdateListener(L.C),L.O.removeMediaListener(L.j),L.U(null));
L.O=m;L.O&&(dA("Setting cast session: "+L.O.sessionId),L.O.addUpdateListener(L.C),L.O.addMediaListener(L.j),L.O.media.length&&L.U(L.O.media[0]))},ur=function(L){return new f1(L.G.getPlayerContextData())},hA=function(L){return L.getState()==1},kE=function(L,m,n){return(0,g.Sx)(function(C){this.aJ("Failed to "+m+" with cast v2 channel. Error code: "+C.code);
C.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.aJ("Retrying "+m+" using MDx browser channel."),rS(this,m,n))},L)},rS=function(L,m,n){L.G.sendMessage(m,n)},YE=function(L,m,n){const C=ur(L);
PI(C,n);C.playerState!=-1E3&&(C.playerState=m);HI(L,C)},WI=function(L,m){var n=L.L;
n.W.length+n.O.length<50&&L.L.enqueue(m)},HI=function(L,m){qUp(L);
L.G.setPlayerContextData(p1(m));avz(L)},qUp=function(L){g.pJ(L.S,function(m){this.G.unsubscribeByKey(m)},L);
L.S.length=0},DT_=function(L){const m=L.W.media,n=L.W.customData;
if(m&&n){var C=ur(L);m.contentId!=C.videoId&&dA("Cast changing video to: "+m.contentId);C.videoId=m.contentId;C.playerState=n.playerState;PI(C,L.W.getEstimatedTime());HI(L,C)}else dA("No cast media video. Ignoring state update.")},OAw=function(L){Gk("Channel opened");
L.nI&&(L.nI=!1,dS(L),L.zo=g.d9(()=>{Gk("Timing out waiting for a screen.");L.S(1)},15E3))},t_$=function(L,m){m=m.message;
m.params?Gk("Received: action="+m.action+", params="+g.Mg(m.params)):Gk("Received: action="+m.action+" {}");switch(m.action){case "loungeStatus":m=N2(m.params.devices);L.J=g.h_(m,function(C){return new $t(C)});
m=!!g.Wm(L.J,function(C){return C.type=="LOUNGE_SCREEN"});
lvr(L,m);m=L.SD("mlm");L.publish("multiStateLoopEnabled",m);break;case "loungeScreenDisconnected":g.LF(L.J,function(C){return C.type=="LOUNGE_SCREEN"});
lvr(L,!1);break;case "remoteConnected":let n=new $t(N2(m.params.device));g.Wm(L.J,function(C){return C.equals(n)})||XS$(L.J,n);
break;case "remoteDisconnected":n=new $t(N2(m.params.device));g.LF(L.J,function(C){return C.equals(n)});
break;case "gracefulDisconnect":break;case "playlistModified":RXH(L,m,"QUEUE_MODIFIED");break;case "nowPlaying":wt0(L,m);break;case "onStateChange":eXz(L,m);break;case "onAdStateChange":gcF(L,m);break;case "onVolumeChanged":M_r(L,m);break;case "onSubtitlesTrackChanged":SU1(L,m);break;case "nowAutoplaying":Iv$(L,m);break;case "autoplayDismissed":L.publish("autoplayDismissed");break;case "autoplayUpNext":Jx0(L,m);break;case "onAutoplayModeChanged":AxZ(L,m);break;case "onHasPreviousNextChanged":bA1(L,
m);break;case "requestAssistedSignIn":L.publish("assistedSignInRequested",m.params.authCode);break;case "onLoopModeChanged":L.publish("loopModeChange",m.params.loopMode);break;default:Gk("Unrecognized action: "+m.action)}},Gk=function(L){Gw("conn",L)},fvJ=function(L){L.U=g.d9(()=>{Gk("Connecting timeout");
L.S(1)},2E4)},K1=function(L,m){L.publish("proxyStateChange",m)},xE=function(L){g.xG(L.U);
L.U=NaN},ye=function(L){g.xG(L.Je);
L.Je=NaN},dS=function(L){g.xG(L.zo);
L.zo=NaN},UTr=function(L){return g.Wm(L.J,function(m){return m.type=="LOUNGE_SCREEN"})},jh=function(L,m,n){n?Gk("Sending: action="+m+", params="+g.Mg(n)):Gk("Sending: action="+m);
L.O.sendMessage(m,n)},Btl=function(L){ye(L);
L.Je=g.d9(()=>{jh(L,"getNowPlaying")},2E4)},Pno=function(L){g.xG(L.C);
L.C=g.d9(()=>{L.S(1)},864E5)},lvr=function(L,m){var n=null;
if(m){const C=UTr(L);C&&(n={clientName:C.clientName,deviceMake:C.brand,deviceModel:C.model,osVersion:C.osVersion})}g.V2("yt.mdx.remote.remoteClient_",n);m&&(xE(L),dS(L));n=L.O.Bm()&&isNaN(L.U);m==n?m&&(K1(L,1),jh(L,"getSubtitlesTrack")):m?(L.m3()&&L.W.reset(),K1(L,1),jh(L,"getNowPlaying"),Pno(L)):L.S(1)},SU1=function(L,m){const n=m.params.videoId;
delete m.params.videoId;n==L.W.videoId&&(g.Y_(m.params)?L.W.trackData=null:L.W.trackData=m.params,L.publish("remotePlayerChange"))},RXH=function(L,m,n){const C=m.params.videoId||m.params.video_id,Z=parseInt(m.params.currentIndex,10);
L.W.listId=m.params.listId||L.W.listId;Qe(L.W,C,Z);L.publish("remoteQueueChange",n)},eXz=function(L,m){var n=parseInt(m.params.currentTime||m.params.current_time,10);
PI(L.W,isNaN(n)?0:n);n=parseInt(m.params.state,10);n=isNaN(n)?-1:n;n==-1&&L.W.playerState==-1E3&&(n=-1E3);L.W.playerState=n;n=Number(m.params.loadedTime);L.W.T=isNaN(n)?0:n;L.W.U1(Number(m.params.duration));n=L.W;var C=Number(m.params.liveIngestionTime);n.W=C;n.G=isNaN(C)?!1:!0;n=L.W;C=Number(m.params.seekableStartTime);m=Number(m.params.seekableEndTime);n.O=isNaN(C)?0:C;n.S=isNaN(m)?0:m;L.W.playerState==1?Btl(L):ye(L);L.publish("remotePlayerChange")},wt0=function(L,m){m.params=m.params||{};
RXH(L,m,"NOW_PLAYING_MAY_CHANGE");eXz(L,m);L.publish("autoplayDismissed")},gcF=function(L,m){if(L.W.playerState!=-1E3){var n=1085;
switch(parseInt(m.params.adState,10)){case 1:n=1081;break;case 2:n=1084;break;case 0:n=1083}L.W.playerState=n;m=parseInt(m.params.currentTime,10);PI(L.W,isNaN(m)?0:m);L.publish("remotePlayerChange")}},M_r=function(L,m){const n=m.params.muted=="true";
L.W.volume=parseInt(m.params.volume,10);L.W.muted=n;L.publish("remotePlayerChange")},Iv$=function(L,m){L.T=m.params.videoId;
L.publish("nowAutoplaying",parseInt(m.params.timeout,10))},Jx0=function(L,m){L.T=m.params.videoId||null;
L.publish("autoplayUpNext",L.T)},AxZ=function(L,m){L.L=m.params.autoplayMode;
L.publish("autoplayModeChange",L.L);L.L=="DISABLED"&&L.publish("autoplayDismissed")},bA1=function(L,m){const n=m.params.hasNext=="true";
L.W.KT=m.params.hasPrevious=="true";L.W.Wp=n;L.publish("previousNextChange")},FUw=function(L,m){tfl();
if(!Ji||!Ji.get("yt-remote-disable-remote-module-for-dev")){m=g.B("MDX_CONFIG")||m;gXZ();SP();oQ||(oQ=new kD(m?m.loungeApiHost:void 0),fIF()&&(oQ.W="/api/loungedev"));cI||(cI=g.$P("yt.mdx.remote.deferredProxies_")||[],g.V2("yt.mdx.remote.deferredProxies_",cI));sEz();var n=LZ();if(!n){const Z=new zk(oQ,m?m.disableAutomaticScreenCache||!1:!1);g.V2("yt.mdx.remote.screenService_",Z);n=LZ();var C={};m&&(C={appId:m.appId,disableDial:m.disableDial,theme:m.theme,loadCastApiSetupScript:m.loadCastApiSetupScript,
disableCastApi:m.disableCastApi,enableDialLoungeToken:m.enableDialLoungeToken,enableCastLoungeToken:m.enableCastLoungeToken,forceMirroring:m.forceMirroring});g.V2("yt.mdx.remote.enableConnectWithInitialState_",m?m.enableConnectWithInitialState||!1:!1);Ecf(L,Z,function(z){z?m1()&&br(m1(),"YouTube TV"):Z.subscribe("onlineScreenChange",function(){Ai("yt-remote-receiver-availability-change")})},C)}m&&!g.$P("yt.mdx.remote.initialized_")&&(g.V2("yt.mdx.remote.initialized_",!0),nZ("Initializing: "+g.Mg(m)),
CZ.push(g.QC("yt-remote-cast2-api-ready",function(){Ai("yt-remote-api-ready")})),CZ.push(g.QC("yt-remote-cast2-availability-change",function(){Ai("yt-remote-receiver-availability-change")})),CZ.push(g.QC("yt-remote-cast2-receiver-selected",function(){ZO(null);
Ai("yt-remote-auto-connect","cast-selector-receiver")})),CZ.push(g.QC("yt-remote-cast2-receiver-resumed",function(){Ai("yt-remote-receiver-resumed","cast-selector-receiver")})),CZ.push(g.QC("yt-remote-cast2-session-change",QEr)),CZ.push(g.QC("yt-remote-connection-change",function(Z){Z?br(m1(),"YouTube TV"):zZ()||(br(null,null),TtJ())})),CZ.push(g.QC("yt-remote-cast2-session-failed",()=>{Ai("yt-remote-connection-failed")})),L=vn(),m.isAuto&&(L.id+="#dial"),C=m.capabilities||[],C.length>0&&(L.capabilities=
C),L.name=m.device,L.app=m.app,(m=m.theme)&&(L.theme=m),nZ(" -- with channel params: "+g.Mg(L)),L?(g.tM("yt-remote-session-app",L.app),g.tM("yt-remote-session-name",L.name)):(g.Uv("yt-remote-session-app"),g.Uv("yt-remote-session-name")),g.V2("yt.mdx.remote.channelParams_",L),n.start(),m1()||pt_())}},uKJ=function(){var L=LZ().z5.$_gos();
const m=Ec();m&&Xo()&&(RR(L,m)||L.push(m));return eWr(L)},NO=function(){let L=hXr();
!L&&IQ()&&Ntf()&&(L={key:"cast-selector-receiver",name:Ntf()});return L},hXr=function(){const L=uKJ();
let m=Ec();m||(m=zZ());return g.Wm(L,function(n){return m&&q2(m,n.key)?!0:!1})},Ec=function(){const L=m1();
if(!L)return null;const m=LZ().IF();return wi(m,L)},QEr=function(L){nZ("remote.onCastSessionChange_: "+DN(L));
if(L){var m=Ec();if(m&&m.id==L.id){if(br(m.id,"YouTube TV"),L.idType=="shortLived"&&(L=L.token))TZ&&(TZ.token=L),(m=Xo())&&m.YP(L)}else m&&VY(),iA(L,1)}else Xo()&&VY()},VY=function(){JA()?M9().stopSession():eh("stopSession called before API ready.");
const L=Xo();L&&(L.disconnect(1),$S(null))},a7=function(){const L=Xo();
return!!L&&L.getProxyState()!=3},nZ=function(L){Gw("remote",L)},LZ=function(){if(!qO){const L=g.$P("yt.mdx.remote.screenService_");
qO=L?new rx_(L):null}return qO},m1=function(){return g.$P("yt.mdx.remote.currentScreenId_")},koH=function(L){g.V2("yt.mdx.remote.currentScreenId_",L)},HAF=function(){return g.$P("yt.mdx.remote.connectData_")},ZO=function(L){g.V2("yt.mdx.remote.connectData_",L)},Xo=function(){return g.$P("yt.mdx.remote.connection_")},$S=function(L){const m=Xo();
ZO(null);L||koH("");g.V2("yt.mdx.remote.connection_",L);cI&&(g.pJ(cI,function(n){n(L)}),cI.length=0);
m&&!L?Ai("yt-remote-connection-change",!1):!m&&L&&Ai("yt-remote-connection-change",!0)},zZ=function(){const L=g.BN();
if(!L)return null;var m=LZ();if(!m)return null;m=m.IF();return wi(m,L)},iA=function(L,m){m1();
Ec()&&Ec();if(DO)TZ=L;else{koH(L.id);var n=g.$P("yt.mdx.remote.enableConnectWithInitialState_")||!1;L=new Oc(L,n);L.connect(m,HAF());L.subscribe("beforeDisconnect",function(C){Ai("yt-remote-before-disconnect",C)});
L.subscribe("beforeDispose",function(){Xo()&&(Xo(),$S(null))});
L.subscribe("browserChannelAuthError",()=>{const C=Ec();C&&C.idType=="shortLived"&&(JA()?M9().handleBrowserChannelAuthError():eh("refreshLoungeToken called before API ready."))});
$S(L)}},pt_=function(){const L=zZ();
L?(nZ("Resume connection to: "+DN(L)),iA(L,0)):(IR(),TtJ(),nZ("Skipping connecting because no session screen found."))},sEz=function(){var L=vn();
if(g.Y_(L)){L=M2();var m=g.fe("yt-remote-session-name")||"";const n=g.fe("yt-remote-session-app")||"";L={device:"REMOTE_CONTROL",id:L,name:m,app:n,mdxVersion:3};L.authuser=String(g.B("SESSION_INDEX","0"));(m=g.B("DELEGATED_SESSION_ID"))&&(L.pageId=String(m));g.V2("yt.mdx.remote.channelParams_",L)}},vn=function(){return g.$P("yt.mdx.remote.channelParams_")||{}},YUw=function(L,m){if(lA(L)){L.I4.unsubscribe("remotePlayerChange",L.L,L);
const n=Math.round(m.volume);m=!!m.muted;const C=ur(L.I4);if(n!==C.volume||m!==C.muted)L.I4.setVolume(n,m),L.C.start();L.I4.subscribe("remotePlayerChange",L.L,L)}},lA=function(L){return ur(L.I4).videoId===L.K.getVideoData(1).videoId},R7=function(L,m){let n,C;
var Z=L.K.getPlaylist();Z?.listId&&(n=Z.index,C=Z.listId.toString());Z=L.K.getVideoData(1);L.I4.playVideo(Z.videoId,m,n,C,Z.playerParams,Z.Je,EX$(Z));L.J8(new g.Tp(1))},wQ=function(L,m){if(lA(L)&&!L.U){let n=null;
m&&(n={style:L.K.getSubtitlesUserSettings()},Object.assign(n,m));L.I4.T(L.K.getVideoData(1).videoId,n);L.G=ur(L.I4).trackData}},WUz=function(L,m){if(m){const n=L.K.getOption("captions","tracklist",{By:1});
n&&n.length?(L.K.setOption("captions","track",m),L.U=!1):(L.K.loadModule("captions"),L.U=!0)}else L.K.setOption("captions","track",{})},Gof=function(L){L.M6(0);
L.O.stop();L.J8(new g.Tp(64))},dTp=function(L){const m=L.player.D();
return!m.N("mdx_enable_privacy_disclosure_ui")||L.isLoggedIn()||L.xf||!L.F5?!1:g.dM(m)||g.yb(m)},KU1=function(L,m,n){L.Vu=n;
L.player.publish("presentingplayerstatechange",new g.SA(n,m))},eR=function(L,m,...n){L.loaded&&L.M2.Kf(m,...n)},gQ=function(L){L.UH&&(L.player.removeEventListener("presentingplayerstatechange",L.UH),L.UH=null)},MO=function(L,m){if(m.key!==L.UM.key)if(m.key===L.hC.key)VY();
else if(dTp(L)&&xTH(L),L.UM=m,!g.ls(L.player.D())){{const z=L.player.getPlaylistId();var n=L.player.getVideoData(1);const v=n.videoId;if(!z&&!v||(L.player.getAppState()===2||L.player.getAppState()===1)&&L.player.D().N("should_clear_video_data_on_player_cued_unstarted"))n=null;else{var C=L.player.getPlaylist();if(C){var Z=[];for(let E=0;E<C.length;E++)Z[E]=g.PV(C,E).videoId}else Z=[v];C=L.player.getCurrentTime(1);L={videoIds:Z,listId:z,videoId:v,playerParams:n.playerParams,clickTrackingParams:n.Je,
index:Math.max(L.player.getPlaylistIndex(),0),currentTime:C===0?void 0:C};(n=EX$(n))&&(L.locationInfo=n);n=L}}nZ("Connecting to: "+g.Mg(m));m.key=="cast-selector-receiver"?(ZO(n||null),m=n||null,JA()?M9().setLaunchParams(m):eh("setLaunchParams called before ready.")):!n&&a7()&&m1()==m.key?Ai("yt-remote-connection-change",!0):(VY(),ZO(n||null),n=LZ().IF(),(m=wi(n,m.key))&&iA(m,1))}},xTH=function(L){L.player.getPlayerStateObject().isPlaying()?L.player.pauseVideo():(L.UH=m=>{!L.xf&&m.yu(8)&&(L.player.pauseVideo(),
gQ(L))},L.player.addEventListener("presentingplayerstatechange",L.UH));
L.F5&&L.F5.Ey();Xo()||(DO=!0)};
g.nh.prototype.As=g.nJ(49,function(){this.app.jW().As()});
g.QW.prototype.As=g.nJ(48,function(){this.XD=null});
g.nh.prototype.WA=g.nJ(47,function(L){this.app.jW().WA(L)});
g.QW.prototype.WA=g.nJ(46,function(L){this.XD=L});
var yr$=class{constructor(){var L=ti();this.O=L;g.qg(L,"/client_streamz/youtube/living_room/mdx/channel/opened",g.BR("channel_type"))}W(L){g.Ou(this.O,"/client_streamz/youtube/living_room/mdx/channel/opened",L)}},jjp=class{constructor(){var L=ti();this.O=L;g.qg(L,"/client_streamz/youtube/living_room/mdx/channel/closed",g.BR("channel_type"))}W(L){g.Ou(this.O,"/client_streamz/youtube/living_room/mdx/channel/closed",L)}},cr$=class{constructor(){var L=ti();this.O=L;g.qg(L,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.BR("channel_type"))}W(L){g.Ou(this.O,"/client_streamz/youtube/living_room/mdx/channel/message_received",L)}},oUw=class{constructor(){var L=ti();this.O=L;g.qg(L,"/client_streamz/youtube/living_room/mdx/channel/success")}W(){g.Ou(this.O,"/client_streamz/youtube/living_room/mdx/channel/success")}},LQ_=class{constructor(){var L=ti();this.O=L;g.qg(L,"/client_streamz/youtube/living_room/mdx/channel/error",g.BR("channel_type"),g.BR("error_type"))}W(L,m){g.Ou(this.O,"/client_streamz/youtube/living_room/mdx/channel/error",
L,m)}},mB0=class{constructor(){var L=ti();this.O=L;g.qg(L,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}W(){g.Ou(this.O,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},nm$=class{constructor(){var L=ti();this.O=L;g.qg(L,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}W(){g.Ou(this.O,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.S=VH.prototype;
g.S.pS=function(){iE(this);const L=[];for(let m=0;m<this.W.length;m++)L.push(this.O[this.W[m]]);return L};
g.S.Gu=function(){iE(this);return this.W.concat()};
g.S.has=function(L){return T8(this.O,L)};
g.S.equals=function(L,m){if(this===L)return!0;if(this.size!=L.size)return!1;m=m||itp;iE(this);let n;for(let C=0;n=this.W[C];C++)if(!m(this.get(n),L.get(n)))return!1;return!0};
g.S.isEmpty=function(){return this.size==0};
g.S.clear=function(){this.O={};this.Jg=this.size=this.W.length=0};
g.S.remove=function(L){return this.delete(L)};
g.S.delete=function(L){return T8(this.O,L)?(delete this.O[L],--this.size,this.Jg++,this.W.length>2*this.size&&iE(this),!0):!1};
g.S.get=function(L,m){return T8(this.O,L)?this.O[L]:m};
g.S.set=function(L,m){T8(this.O,L)||(this.size+=1,this.W.push(L),this.Jg++);this.O[L]=m};
g.S.forEach=function(L,m){const n=this.Gu();for(let C=0;C<n.length;C++){const Z=n[C],z=this.get(Z);L.call(m,z,Z,this)}};
g.S.clone=function(){return new VH(this)};
g.S.keys=function(){return g.pi(this.hR(!0)).W()};
g.S.values=function(){return g.pi(this.hR(!1)).W()};
g.S.entries=function(){const L=this;return VfJ(this.keys(),function(m){return[m,L.get(m)]})};
g.S.hR=function(L){iE(this);let m=0;const n=this.Jg,C=this,Z=new g.Wt;Z.next=function(){if(n!=C.Jg)throw Error("The map has changed since the iterator was created");if(m>=C.W.length)return g.rs;const z=C.W[m++];return g.Go(L?z:C.O[z])};
return Z};
var Dnf={k8:"atp",jx:"ska",Oh:"que",Dz:"mus",vQ:"sus",G0:"dsp",rF:"seq",ew:"mic",bK:"dpa",jw:"mlm",zI:"dsdtr",Io:"ntb",P11:"vsp",TI:"scn",J6:"rpe",W4:"dcn",wc:"dcp",sO:"pas",Jo:"drq",OO:"opf",Q7:"els",FT:"isg",Tw:"svq",Y6:"mvp",Xo:"ads",XX:"stcp",PQ:"sads",Oo:"dloc",iK:"dcw",Wx:"asw",yc:"apw",tj:"wrc",Ah:"pcw",O2:"ipv"},Otl={MDd:"u",F_:"cl",bR:"k",Pf:"i",VF:"cr",pJ:"m",V7:"g",Ia:"up"},Z7Z={sQ:"adPlaying",E9:"onAdStateChange"},zN0={yG:"nowPlaying",zA:"onStateChange",sQ:"adPlaying",E9:"onAdStateChange",
e$:"nowPlayingShorts",vU:"onShortsStateChange"},vmJ={e$:"nowPlayingShorts",vU:"onShortsStateChange"};$t.prototype.equals=function(L){return L?this.id==L.id:!1};
var gi="",Ji=null,Un$=class extends g.YmU{constructor(){super()}},bE,Fvp=BxZ("loadCastFramework")||BxZ("loadCastApplicationFramework"),hW0=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.bg(sP,g.S_);g.S=sP.prototype;g.S.JV=function(L){this.G=arguments;this.W=!1;this.vc?this.J=g.J_()+this.YA:this.vc=g.TY(this.L,this.YA)};
g.S.stop=function(){this.vc&&(g.X8.clearTimeout(this.vc),this.vc=null);this.J=null;this.W=!1;this.G=[]};
g.S.pause=function(){++this.O};
g.S.resume=function(){this.O&&(--this.O,!this.O&&this.W&&(this.W=!1,this.U.apply(null,this.G)))};
g.S.b1=function(){this.stop();sP.w$.b1.call(this)};
g.S.zC=function(){this.vc&&(g.X8.clearTimeout(this.vc),this.vc=null);this.J?(this.vc=g.TY(this.L,this.J-g.J_()),this.J=null):this.O?this.W=!0:(this.W=!1,this.U.apply(null,this.G))};var EQ=class{stringify(L){return g.X8.JSON.stringify(L,void 0)}parse(L){return g.X8.JSON.parse(L,void 0)}};g.bg(QH,g.iy);g.bg(pL,g.iy);var k1J=null;g.bg(HtZ,g.iy);g.bg(Y2D,g.iy);g.bg(WvH,g.iy);kt.prototype.debug=function(){};
kt.prototype.info=function(){};
kt.prototype.warning=function(){};var jC$={},KL={};g.S=HU.prototype;g.S.setTimeout=function(L){this.l1=L};
g.S.b3=function(L){L=L.target;const m=this.m3;m&&g.rz(L)==3?m.G():this.Rr(L)};
g.S.Rr=function(L){try{if(L==this.W)a:{const Z=g.rz(this.W),z=this.W.O,v=this.W.getStatus();if(!(Z<3)&&(Z!=3||this.W&&(this.O.J||g.Ya(this.W)||g.WO(this.W)))){this.nI||Z!=4||z==7||(z==8||v<=0?uE(3):uE(2));xt(this);var m=this.W.getStatus();this.CI=m;var n=yLo(this);if(this.U=m==200){if(this.Ij&&!this.Zl){b:{if(this.W){const E=g.dz(this.W,"X-HTTP-Initial-Response");if(E&&!g.zf(E)){var C=E;break b}}C=null}if(L=C)this.Zl=!0,Zt(this,L);else{this.U=!1;this.L=3;hi(12);G8(this);di(this);break a}}if(this.zo){L=
!0;let E;for(;!this.nI&&this.S<n.length;)if(E=oX$(this,n),E==KL){Z==4&&(this.L=4,hi(14),L=!1);break}else if(E==jC$){this.L=4;hi(15);L=!1;break}else Zt(this,E);xnw(this)&&this.S!=0&&(this.O.W=this.O.W.slice(this.S),this.S=0);Z!=4||n.length!=0||this.O.J||(this.L=1,hi(16),L=!1);this.U=this.U&&L;L?n.length>0&&!this.yH&&(this.yH=!0,this.J.Ha(this)):(G8(this),di(this))}else Zt(this,n);Z==4&&G8(this);this.U&&!this.nI&&(Z==4?LiZ(this.J,this):(this.U=!1,WU(this)))}else g.GY(this.W),m==400&&n.indexOf("Unknown SID")>
0?(this.L=3,hi(12)):(this.L=0,hi(13)),G8(this),di(this)}}}catch(Z){}finally{}};
g.S.cancel=function(){this.nI=!0;G8(this)};
g.S.GC=function(){this.wd=null;const L=Date.now();L-this.fI>=0?(this.xU!=2&&(uE(3),hi(17)),G8(this),this.L=2,di(this)):cLl(this,this.fI-L)};
g.S.getLastError=function(){return this.L};
g.S.wS=function(){return this.W};var yx$=class{constructor(L,m){this.W=L;this.map=m;this.context=null}};ZQF.prototype.cancel=function(){this.J=zw(this);if(this.O)this.O.cancel(),this.O=null;else if(this.W&&this.W.size!==0){for(const L of this.W.values())L.cancel();this.W.clear()}};g.S=N6r.prototype;g.S.Zw=8;g.S.v5=1;g.S.connect=function(L,m,n,C){hi(0);this.mY=L;this.nI=m||{};n&&C!==void 0&&(this.nI.OSID=n,this.nI.OAID=C);this.m3=this.nu;this.KI=mwH(this,null,this.mY);Cd(this)};
g.S.disconnect=function(){T6o(this);if(this.v5==3){var L=this.SD++,m=this.KI.clone();g.va(m,"SID",this.G);g.va(m,"RID",L);g.va(m,"TYPE","terminate");Tw(this,m);L=new HU(this,this.G,L);L.xU=2;L.T=vU(m.clone());m=!1;if(g.X8.navigator&&g.X8.navigator.sendBeacon)try{m=g.X8.navigator.sendBeacon(L.T.toString(),"")}catch{}!m&&g.X8.Image&&((new Image).src=L.T,m=!0);m||(L.W=Kvp(L.J,null),L.W.send(L.T));L.Wv=Date.now();WU(L)}DwZ(this)};
g.S.Dg=function(){return this.v5==0};
g.S.getState=function(){return this.v5};
g.S.g4=function(L){if(this.U)if(this.U=null,this.v5==1){if(!L){this.SD=Math.floor(Math.random()*1E5);L=this.SD++;const Z=new HU(this,"",L);let z=this.j;this.Ij&&(z?(z=g.KF(z),g.jZ(z,this.Ij)):z=this.Ij);this.S!==null||this.fI||(Z.KI=z,z=null);if(this.jD)a:{var m=0;for(var n=0;n<this.J.length;n++){b:{var C=this.J[n];if("__data__"in C.map&&(C=C.map.__data__,typeof C==="string")){C=C.length;break b}C=void 0}if(C===void 0)break;m+=C;if(m>4096){m=n;break a}if(m===4096||n===this.J.length-1){m=n+1;break a}}m=
1E3}else m=1E3;m=$ww(this,Z,m);n=this.KI.clone();g.va(n,"RID",L);g.va(n,"CVER",22);this.zo&&g.va(n,"X-HTTP-Session-Id",this.zo);Tw(this,n);z&&(this.fI?m="headers="+g.iw(g.iP(z))+"&"+m:this.S&&g.$s(n,this.S,z));nd(this.O,Z);this.Tm&&g.va(n,"TYPE","init");this.jD?(g.va(n,"$req",m),g.va(n,"SID","null"),Z.Ij=!0,Yt(Z,n,null)):Yt(Z,n,m);this.v5=2}}else this.v5==3&&(L?app(this,L):this.J.length==0||zM_(this.O)||app(this))};
g.S.KG=function(){this.T=null;qwF(this);if(this.gx&&!(this.l1||this.W==null||this.xk<=0)){var L=4*this.xk;this.Je=ri((0,g.Sx)(this.Uu,this),L)}};
g.S.Uu=function(){this.Je&&(this.Je=null,this.m3=!1,this.l1=!0,hi(10),oR(this),qwF(this))};
g.S.Ha=function(L){this.W==L&&this.gx&&!this.l1&&(N7(this),this.l1=!0,hi(11))};
g.S.Lx=function(){this.wd!=null&&(this.wd=null,oR(this),cU(this),hi(19))};
g.S.aB=function(L){L?hi(2):hi(1)};
g.S.isActive=function(){return!!this.L&&this.L.isActive(this)};
g.S=lp_.prototype;g.S.x0=function(){};
g.S.UU=function(){};
g.S.sU=function(){};
g.S.c7=function(){};
g.S.isActive=function(){return!0};
g.S.nx=function(){};g.bg(ik,g.Bh);ik.prototype.open=function(){this.W.L=this.J;this.S&&(this.W.Zl=!0);this.W.connect(this.U,this.O||void 0)};
ik.prototype.close=function(){this.W.disconnect()};
ik.prototype.send=function(L){var m=this.W;if(typeof L==="string"){var n={};n.__data__=L;L=n}else this.L&&(n={},n.__data__=g.Mg(L),L=n);m.J.push(new yx$(m.iL++,L));m.v5==3&&Cd(m)};
ik.prototype.b1=function(){this.W.L=null;delete this.J;this.W.disconnect();delete this.W;ik.w$.b1.call(this)};
g.bg(wf_,QH);g.bg(eMH,pL);g.bg(V_,lp_);V_.prototype.x0=function(){this.W.dispatchEvent("m")};
V_.prototype.UU=function(L){this.W.dispatchEvent(new wf_(L))};
V_.prototype.sU=function(L){this.W.dispatchEvent(new eMH(L))};
V_.prototype.c7=function(){this.W.dispatchEvent("n")};
ik.prototype.G=function(){return new $D(this,this.W)};
$D.prototype.O=function(){return Ld(this.W.O)};
$D.prototype.J=function(){return OQ1(this.W).map(L=>{var m=this.G;L=L.map;"__data__"in L?(L=L.__data__,m=m.L?Nxp(L):L):m=L;return m})};
$D.prototype.commit=function(L){this.W.CI=L};var q7=new g.Bh,gUH=class extends g.iy{constructor(){super("statevent",q7)}};g.S=OQ.prototype;g.S.gI=null;g.S.OM=!1;g.S.Uj=null;g.S.dY=null;g.S.eA=null;g.S.CU=null;g.S.PX=null;g.S.V8=null;g.S.c8=null;g.S.s5=null;g.S.q4=0;g.S.HP=null;g.S.dL=null;g.S.sj=null;g.S.h$=-1;g.S.vn=!0;g.S.BX=!1;g.S.CM=0;g.S.pU=null;var Ip1={},wA={};g.S=OQ.prototype;g.S.setTimeout=function(L){this.O=L};
g.S.Zb=function(L){L=L.target;const m=this.pU;m&&g.rz(L)==3?m.G():this.r4(L)};
g.S.r4=function(L){try{if(L==this.s5)a:{const m=g.rz(this.s5),n=this.s5.O,C=this.s5.getStatus();if(g.q4&&!g.QU("420+")){if(m<4)break a}else if(m<3||m==3&&!g.Ya(this.s5))break a;this.BX||m!=4||n==7||(n==8||C<=0?this.W.ZL(3):this.W.ZL(2));bQl(this);const Z=this.s5.getStatus();this.h$=Z;const z=g.Ya(this.s5);if(this.OM=Z==200){m==4&&gA(this);if(this.zo){for(L=!0;!this.BX&&this.q4<z.length;){const v=Jrr(this,z);if(v==wA){m==4&&(this.sj=4,Dt(),L=!1);break}else if(v==Ip1){this.sj=4;Dt();L=!1;break}else t4f(this,
v)}m==4&&z.length==0&&(this.sj=1,Dt(),L=!1);this.OM=this.OM&&L;L||(gA(this),es(this))}else t4f(this,z);this.OM&&!this.BX&&(m==4?this.W.IE(this):(this.OM=!1,RB(this)))}else this.sj=Z==400&&z.indexOf("Unknown SID")>0?3:0,Dt(),gA(this),es(this)}}catch(m){}finally{}};
g.S.cancel=function(){this.BX=!0;gA(this)};
g.S.Ra=function(){this.Uj=null;const L=Date.now();L-this.dY>=0?(this.CU!=2&&this.W.ZL(3),gA(this),this.sj=2,Dt(),es(this)):Ar0(this,this.dY-L)};
g.S.getLastError=function(){return this.sj};g.S=B6$.prototype;g.S.u0=null;g.S.vF=null;g.S.ED=!1;g.S.Xs=null;g.S.Pp=null;g.S.F9=-1;g.S.IH=null;g.S.Ay=null;g.S.connect=function(L){this.Xs=L;L=Ss(this.W,null,this.Xs);Dt();Date.now();const m=this.W.j;m!=null?(this.IH=m[0],(this.Ay=m[1])?(this.Pp=1,P5p(this)):(this.Pp=2,JB(this))):(EP(L,"MODE","init"),this.vF=new OQ(this),this.vF.gI=this.u0,lk(this.vF,L,!1,null,!0),this.Pp=0)};
g.S.FG=function(L){if(L)this.Pp=2,JB(this);else{Dt();var m=this.W;m.M8=m.gC.F9;sQ(m,9)}L&&this.ZL(2)};
g.S.q0=function(L){return this.W.q0(L)};
g.S.abort=function(){this.vF&&(this.vF.cancel(),this.vF=null);this.F9=-1};
g.S.Dg=function(){return!1};
g.S.mI=function(L,m){this.F9=L.h$;if(this.Pp==0)if(m){try{var n=this.O.parse(m)}catch(C){L=this.W;L.M8=this.F9;sQ(L,2);return}this.IH=n[0];this.Ay=n[1]}else L=this.W,L.M8=this.F9,sQ(L,2);else this.Pp==2&&(this.ED?(Dt(),Date.now()):m=="11111"?(Dt(),this.ED=!0,Date.now(),this.F9=200,this.vF.cancel(),Dt(),IB(this.W,this,!0)):(Dt(),Date.now(),this.ED=!1))};
g.S.IE=function(){this.F9=this.vF.h$;if(this.vF.OM)this.Pp==0?this.Ay?(this.Pp=1,P5p(this)):(this.Pp=2,JB(this)):this.Pp==2&&(this.ED?(Dt(),IB(this.W,this,!0)):(Dt(),IB(this.W,this,!1)));else{this.Pp==0?Dt():this.Pp==2&&Dt();var L=this.W;this.vF.getLastError();L.M8=this.F9;sQ(L,2)}};
g.S.A$=function(){return this.W.A$()};
g.S.isActive=function(){return this.W.isActive()};
g.S.ZL=function(L){this.W.ZL(L)};g.S=AB.prototype;g.S.Bp=null;g.S.fb=null;g.S.nf=null;g.S.X1=null;g.S.Wo=null;g.S.Xk=null;g.S.SB=null;g.S.yr=null;g.S.Ee=0;g.S.gA=0;g.S.jr=null;g.S.JB=null;g.S.Q5=null;g.S.UT=null;g.S.gC=null;g.S.e1=null;g.S.Sz=-1;g.S.Fi=-1;g.S.M8=-1;g.S.mD=0;g.S.NL=0;g.S.sT=8;var jEF={OK:0,iB:2,FO:4,Wl:5,Tdd:6,STOP:7,hV:8,bd:9,Jc:10,Gl:11,w6:12};g.bg(Qjz,g.iy);g.bg(pf1,g.iy);g.S=AB.prototype;
g.S.connect=function(L,m,n,C,Z){Dt();this.Wo=m;this.fb=n||{};C&&Z!==void 0&&(this.fb.OSID=C,this.fb.OAID=Z);this.T?(aB((0,g.Sx)(this.X7,this,L),100),Fiw(this)):this.X7(L)};
g.S.disconnect=function(){uQ$(this);if(this.W==3){var L=this.Ee++;const m=this.Xk.clone();g.va(m,"SID",this.G);g.va(m,"RID",L);g.va(m,"TYPE","terminate");BF(this,m);L=new OQ(this,this.G,L);L.CU=2;L.PX=vU(m.clone());(new Image).src=L.PX.toString();L.eA=Date.now();RB(L)}Gif(this)};
g.S.X7=function(L){this.gC=new B6$(this);this.gC.u0=this.Bp;this.gC.O=this.L;this.gC.connect(L)};
g.S.Dg=function(){return this.W==0};
g.S.getState=function(){return this.W};
g.S.T1=function(L){this.JB=null;kir(this,L)};
g.S.Qs=function(){this.Q5=null;this.X1=new OQ(this,this.G,"rpc",this.S);this.X1.gI=this.Bp;this.X1.CM=0;var L=this.SB.clone();g.va(L,"RID","rpc");g.va(L,"SID",this.G);g.va(L,"CI",this.e1?"0":"1");g.va(L,"AID",this.Sz);BF(this,L);g.va(L,"TYPE","xmlhttp");lk(this.X1,L,!0,this.yr,!1)};
g.S.mI=function(L,m){if(this.W!=0&&(this.X1==L||this.nf==L))if(this.M8=L.h$,this.nf==L&&this.W==3)if(this.sT>7){try{var n=this.L.parse(m)}catch(C){n=null}if(Array.isArray(n)&&n.length==3)if(L=n,L[0]==0)a:{if(!this.Q5){if(this.X1)if(this.X1.eA+3E3<this.nf.eA)tB(this),this.X1.cancel(),this.X1=null;else break a;PF(this);Dt()}}else this.Fi=L[1],0<this.Fi-this.Sz&&L[2]<37500&&this.e1&&this.NL==0&&!this.UT&&(this.UT=aB((0,g.Sx)(this.cU,this),6E3));else sQ(this,11)}else m!="y2f%"&&sQ(this,11);else if(this.X1==
L&&tB(this),!g.zf(m))for(L=this.L.parse(m),m=0;m<L.length;m++)n=L[m],this.Sz=n[0],n=n[1],this.W==2?n[0]=="c"?(this.G=n[1],this.yr=n[2],n=n[3],n!=null?this.sT=n:this.sT=6,this.W=3,this.jr&&this.jr.P7(),this.SB=Ss(this,this.A$()?this.yr:null,this.Wo),HQr(this)):n[0]=="stop"&&sQ(this,7):this.W==3&&(n[0]=="stop"?sQ(this,7):n[0]!="noop"&&this.jr&&this.jr.H7(n),this.NL=0)};
g.S.cU=function(){this.UT!=null&&(this.UT=null,this.X1.cancel(),this.X1=null,PF(this),Dt())};
g.S.IE=function(L){if(this.X1==L){tB(this);this.X1=null;var m=2}else if(this.nf==L)this.nf=null,m=1;else return;this.M8=L.h$;if(this.W!=0)if(L.OM)if(m==1){m=L.c8?L.c8.length:0;L=Date.now()-L.eA;var n=q7;n.dispatchEvent(new Qjz(n,m,L,this.mD));bk(this);this.jr&&this.jr.B7(this,this.J);this.J.length=0}else HQr(this);else{n=L.getLastError();var C;if(!(C=n==3||n==7||n==0&&this.M8>0)){if(C=m==1)this.nf||this.JB||this.W==1||this.mD>=2?C=!1:(this.JB=aB((0,g.Sx)(this.T1,this,L),Ywl(this,this.mD)),this.mD++,
C=!0);C=!(C||m==2&&PF(this))}if(C)switch(n){case 1:sQ(this,5);break;case 4:sQ(this,10);break;case 3:sQ(this,6);break;case 7:sQ(this,12);break;default:sQ(this,2)}}};
g.S.Kx=function(L){if(!g.KJ(arguments,this.W))throw Error("Unexpected channel state: "+this.W);};
g.S.RB=function(L){L?Dt():(Dt(),Wiz(this,8))};
g.S.q0=function(L){if(L)throw Error("Can't create secondary domain capable XhrIo object.");L=new g.PO;L.S=!1;return L};
g.S.isActive=function(){return!!this.jr&&this.jr.isActive(this)};
g.S.ZL=function(L){const m=q7;m.dispatchEvent(new pf1(m,L))};
g.S.A$=function(){return!1};
g.S=dwF.prototype;g.S.P7=function(){};
g.S.H7=function(){};
g.S.B7=function(){};
g.S.MM=function(){};
g.S.tq=function(){};
g.S.hS=function(){return{}};
g.S.isActive=function(){return!0};g.S=Kiw.prototype;g.S.enqueue=function(L){this.O.push(L)};
g.S.isEmpty=function(){return this.W.length===0&&this.O.length===0};
g.S.clear=function(){this.W=[];this.O=[]};
g.S.contains=function(L){return g.KJ(this.W,L)||g.KJ(this.O,L)};
g.S.remove=function(L){{var m=this.W;const n=Array.prototype.lastIndexOf.call(m,L,m.length-1);n>=0?(g.oU(m,n),m=!0):m=!1}return m||g.cm(this.O,L)};
g.S.pS=function(){const L=[];for(var m=this.W.length-1;m>=0;--m)L.push(this.W[m]);m=this.O.length;for(let n=0;n<m;++n)L.push(this.O[n]);return L};var ocZ=class extends g.iy{constructor(L){super("channelMessage");this.message=L}},cxf=class extends g.iy{constructor(L){super("channelError");this.error=L}};g.bg(Q_,g.S_);g.S=Q_.prototype;g.S.D6=function(){this.YA=Math.min(3E5,this.YA*2);this.J();this.O&&this.start()};
g.S.start=function(){const L=this.YA+15E3*Math.random();this.W.h8(L);this.O=Date.now()+L};
g.S.stop=function(){this.W.stop();this.O=0};
g.S.isActive=function(){return this.W.isActive()};
g.S.reset=function(){this.W.stop();this.YA=5E3};g.bg(pd,dwF);g.S=pd.prototype;g.S.subscribe=function(L,m,n){return this.U.subscribe(L,m,n)};
g.S.unsubscribe=function(L,m,n){return this.U.unsubscribe(L,m,n)};
g.S.EZ=function(L){return this.U.EZ(L)};
g.S.publish=function(L,m){return this.U.publish.apply(this.U,arguments)};
g.S.dispose=function(){this.S||(this.S=!0,g.gt(this.U),this.disconnect(),g.gt(this.O),this.O=null,this.zo=()=>"",this.KI=()=>g.dI({}))};
g.S.To=function(){return this.S};
g.S.connect=async function(L,m,n){try{this.L&&await this.G}finally{if(this.S||this.W&&this.W.getState()==2)return;this.Wv="";this.O.stop();this.j=L||null;this.T=m||0;const C=this.xU+"/test",Z=this.xU+"/bind";L=new AB(n?n.firstTestResults:null,n?n.secondTestResults:null,this.yH);const z=this.W;z&&(z.jr=null);L.jr=this;this.W=L;if(this.L)return this.G=hB(this).then(()=>CCf(this,C,Z,z,n)),this.G.then(()=>{this.G=g.dI()});
CCf(this,C,Z,z,n)}};
g.S.disconnect=function(L){try{this.L&&(this.G.cancel(),this.G=g.dI())}finally{this.C=L||0,this.O&&this.O.stop(),FJ(this),this.W&&(this.W.getState()==3&&kir(this.W),this.W.disconnect()),this.C=0}};
g.S.sendMessage=async function(L,m){try{this.L&&await this.G}finally{if(this.S)return;const n={_sc:L};m&&g.jZ(n,m);if(this.O.isActive()||(this.W?this.W.getState():0)==2)this.J.push(n);else if(this.Bm())try{this.L&&!Emp(this,L)&&await hB(this)}finally{this.Bm()&&(Emp(this,L)||uk(this),FJ(this),fd(this.W,n))}}};
g.S.P7=function(){this.O.reset();this.j=null;this.T=0;if(this.J.length)if(this.L)XyZ(this);else{var L=this.J;this.J=[];var m=L.length;uk(this);for(let n=0;n<m;++n)fd(this.W,L[n]);rA(this);rA(this)}else rA(this)};
g.S.MM=function(L){var m=L==2&&this.W.M8==401;L==4||m||this.O.start();this.publish("handlerError",L,m);m=Object.keys(jEF).find(n=>jEF[n]===L);
this.m3.W("BROWSER_CHANNEL",m??"UNKNOWN")};
g.S.tq=function(L,m){if(!this.O.isActive())this.publish("handlerClosed");else if(m){const n=m.length;for(let C=0;C<n;++C){const Z=m[C].map;Z&&this.J.push(Z)}}this.Zl.W("BROWSER_CHANNEL");L&&g.DK(this.nu.O,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",L.length);m&&g.DK(this.gx.O,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",m.length)};
g.S.B7=function(L,m){m!=null&&L!=null&&this.l1.W()};
g.S.hS=function(){const L={v:2};this.Wv&&(L.gsessionid=this.Wv);this.T!=0&&(L.ui=""+this.T);this.C!=0&&(L.ui=""+this.C);this.j&&g.jZ(L,this.j);return L};
g.S.H7=function(L){L[0]=="S"?this.Wv=L[1]:L[0]=="gracefulReconnect"?(this.O.start(),this.W.disconnect()):this.publish("handlerMessage",new xw_(L[0],L[1]));this.SD.W("BROWSER_CHANNEL")};
g.S.Bm=function(){return!!this.W&&this.W.getState()==3};
g.S.YP=function(L){(this.wd.loungeIdToken=L)||this.O.stop();if(this.zb&&this.W){const m=this.W.Bp||{};L?m["X-YouTube-LoungeId-Token"]=L:delete m["X-YouTube-LoungeId-Token"];this.W.Bp=m}};
g.S.getDeviceId=function(){return this.wd.id};
g.S.AB=function(){return this.O.isActive()?this.O.O-Date.now():NaN};
g.S.E8=function(){var L=this.O;g.Ci(L.W);L.start()};
g.S.BZ=function(){this.O.isActive();hMl(this.W)==0&&this.connect(this.j,this.T)};kD.prototype.sendRequest=function(L,m,n,C,Z,z,v){L={format:z?"RAW":"JSON",method:L,context:this,timeout:5E3,withCredentials:!!v,onSuccess:g.IU(this.G,C,!z),onError:g.IU(this.J,Z),onTimeout:g.IU(this.L,Z)};n&&(L.postParams=n,L.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.Zy(m,L)};
kD.prototype.G=function(L,m,n,C){m?L(C):L({text:n.responseText})};
kD.prototype.J=function(L,m){L(Error("Request error: "+m.status))};
kD.prototype.L=function(L){L(Error("request timed out"))};var arp=class extends g.Bh{constructor(L,m){super();this.handler=L();this.handler.subscribe("handlerOpened",this.W,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(n,C)=>{this.onError(C)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.O=m}connect(L,m,n){this.handler.connect(L,m,n)}disconnect(L){this.handler.disconnect(L)}E8(){this.handler.E8()}getDeviceId(){return this.handler.getDeviceId()}AB(){return this.handler.AB()}Bm(){return this.handler.Bm()}W(){this.dispatchEvent("channelOpened");var L=this.handler,m=this.O;g.tM("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!L.W.e1,sessionId:L.W.G,arrayId:L.W.Sz});g.tM("yt-remote-session-screen-id",
m);L=eP();m=M2();g.KJ(L,m)||L.push(m);S20(L);SP()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(L){this.dispatchEvent(new ocZ(L))}onError(L){this.dispatchEvent(new cxf(L?1:0))}sendMessage(L,m){this.handler.sendMessage(L,m)}YP(L){this.handler.YP(L)}dispose(){this.handler.dispose()}};var $BJ=class{constructor(L,m,n=()=>""){new RM0;
var C=new g.H4;this.pathPrefix=L;this.W=m;this.Wv=n;this.L=C;this.T=null;this.j=this.S=0;this.channel=null;this.U=0;this.J=new Q_(()=>{this.J.isActive();this.channel?.G().O()===0&&this.connect(this.T,this.S)});
this.G={};this.O={};this.wd=!1;this.logger=null;this.C=[];this.Qf=void 0;this.KI=new yr$;this.Je=new jjp;this.nI=new cr$;this.zo=new LQ_}connect(L={},m=0){this.U!==2&&(this.J.stop(),this.T=L,this.S=m,YD(this),(L=g.B("ID_TOKEN"))?this.G["x-youtube-identity-token"]=L:delete this.G["x-youtube-identity-token"],this.W&&(this.O.device=this.W.device,this.O.name=this.W.name,this.O.app=this.W.app,this.O.id=this.W.id,this.W.uc&&(this.O.mdxVersion=`${this.W.uc}`),this.W.theme&&(this.O.theme=this.W.theme),this.W.capabilities&&
(this.O.capabilities=this.W.capabilities),this.W.o0&&(this.O.cst=this.W.o0),this.W.authuser&&(this.O.authuser=this.W.authuser),this.W.pageId&&(this.O.pageId=this.W.pageId)),this.S!==0?this.O.ui=`${this.S}`:delete this.O.ui,Object.assign(this.O,this.T),this.channel=new ik(this.pathPrefix,{Rq:"gsessionid",Wd:this.G,tX:this.O}),this.channel.open(),this.U=2,Vi0(this))}disconnect(L=0){this.j=L;this.J.stop();YD(this);this.channel&&(this.j!==0?this.O.ui=`${this.j}`:delete this.O.ui,this.channel.close());
this.j=0}AB(){return this.J.isActive()?this.J.O-Date.now():NaN}E8(){var L=this.J;g.Ci(L.W);L.start()}sendMessage(L,m){this.channel&&(YD(this),this.channel.send({_sc:L,...m}))}YP(L){L||this.J.stop();L?this.G["X-YouTube-LoungeId-Token"]=L:delete this.G["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.W?this.W.id:""}publish(L,...m){return this.L.publish(L,...m)}subscribe(L,m,n){return this.L.subscribe(L,m,n)}unsubscribe(L,m,n){return this.L.unsubscribe(L,m,n)}EZ(L){return this.L.EZ(L)}dispose(){this.wd||
(this.wd=!0,g.gt(this.L),this.disconnect(),g.gt(this.J),this.Wv=()=>"")}To(){return this.wd}};var i71=class extends g.Bh{constructor(L){super();this.W=L();this.W.subscribe("webChannelOpened",this.O,this);this.W.subscribe("webChannelClosed",this.onClosed,this);this.W.subscribe("webChannelError",this.onError,this);this.W.subscribe("webChannelMessage",this.onMessage,this)}connect(L,m){this.W.connect(L,m)}disconnect(L){this.W.disconnect(L)}E8(){this.W.E8()}getDeviceId(){return this.W.getDeviceId()}AB(){return this.W.AB()}Bm(){return this.W.U===3}O(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(L){this.dispatchEvent(new ocZ(L))}onError(){this.dispatchEvent(new cxf(this.W.Qf===
401?1:0))}sendMessage(L,m){this.W.sendMessage(L,m)}YP(L){this.W.YP(L)}dispose(){this.W.dispose()}};var gm_=Date.now(),WF=null,xD=Array(50),Kd=-1,y_=!1;g.bg(js,g.tS);js.prototype.IF=function(){return this.screens};
js.prototype.contains=function(L){return!!RR(this.screens,L)};
js.prototype.get=function(L){return L?wi(this.screens,L):null};
js.prototype.info=function(L){Gw(this.U,L)};var mEr=class extends g.tS{constructor(L,m,n,C,Z){super();this.G=L;this.C=m;this.T=n;this.wd=C;this.j=Z;this.O=0;this.W=null;this.vc=NaN}start(){!this.W&&isNaN(this.vc)&&this.J()}stop(){this.W&&(this.W.abort(),this.W=null);isNaN(this.vc)||(g.xG(this.vc),this.vc=NaN)}b1(){this.stop();super.b1()}J(){this.vc=NaN;this.W=g.Zy(HF(this.G,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.C},timeout:5E3,onSuccess:(0,g.Sx)(this.U,this),onError:(0,g.Sx)(this.L,this),onTimeout:(0,g.Sx)(this.S,
this)})}U(L,m){this.W=null;L=m.screen||{};L.dialId=this.T;L.name=this.wd;m=-1;this.j&&L.shortLivedLoungeToken&&L.shortLivedLoungeToken.value&&L.shortLivedLoungeToken.refreshIntervalMs&&(L.screenIdType="shortLived",L.loungeToken=L.shortLivedLoungeToken.value,m=L.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new aR(L),m)}L(L){this.W=null;L.status&&L.status==404?this.O>=LV$.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(L=LV$[this.O],this.vc=g.d9((0,g.Sx)(this.J,
this),L),this.O++):this.publish("pairingFailed",Error("Server error "+L.status))}S(){this.W=null;this.publish("pairingFailed",Error("Server not responding"))}},LV$=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.bg(cF,js);g.S=cF.prototype;g.S.start=function(){oB(this)&&this.publish("screenChange");!g.fe("yt-remote-lounge-token-expiration")&&Jsw(this);g.xG(this.W);this.W=g.d9((0,g.Sx)(this.start,this),1E4)};
g.S.add=function(L,m){oB(this);Mil(this,L);L1(this,!1);this.publish("screenChange");m(L);L.token||Jsw(this)};
g.S.remove=function(L,m){let n=oB(this);Ir0(this,L)&&(L1(this,!1),n=!0);m(L);n&&this.publish("screenChange")};
g.S.BG=function(L,m,n,C){let Z=oB(this);const z=this.get(L.id);z?(z.name!=m&&(z.name=m,L1(this,!1),Z=!0),n(L)):C(Error("no such local screen."));Z&&this.publish("screenChange")};
g.S.b1=function(){g.xG(this.W);cF.w$.b1.call(this)};
g.S.tL=function(L){oB(this);let m=this.screens.length;L=L&&L.screens||[];const n=L.length;for(let C=0;C<n;++C){const Z=L[C],z=this.get(Z.screenId);z&&(z.token=Z.loungeToken,--m)}L1(this,!m);m&&Gw(this.U,"Missed "+m+" lounge tokens.")};
g.S.WN=function(L){Gw(this.U,"Requesting lounge tokens failed: "+L)};var QpZ=class extends g.tS{constructor(L,m){super();this.U=m;m=(m=g.fe("yt-remote-online-screen-ids")||"")?m.split(","):[];const n={},C=this.U(),Z=C.length;for(let z=0;z<Z;++z){const v=C[z].id;n[v]=g.KJ(m,v)}this.W=n;this.L=L;this.J=this.G=NaN;this.O=null;mx("Initialized with "+g.Mg(this.W))}start(){const L=parseInt(g.fe("yt-remote-fast-check-period")||"0",10);(this.G=g.J_()-144E5<L?0:L)?n1(this):(this.G=g.J_()+3E5,g.tM("yt-remote-fast-check-period",this.G),this.S())}isEmpty(){return g.Y_(this.W)}update(){mx("Updating availability on schedule.");
const L=this.U(),m=g.tJ(this.W,function(n,C){return n&&!!wi(L,C)},this);
C1(this,m)}b1(){g.xG(this.J);this.J=NaN;this.O&&(this.O.abort(),this.O=null);super.b1()}S(){g.xG(this.J);this.J=NaN;this.O&&this.O.abort();const L=b7l(this);if(XF(L)){var m=HF(this.L,"/pairing/get_screen_availability"),n={lounge_token:g.up(L).join(",")};this.O=this.L.sendRequest("POST",m,n,(0,g.Sx)(this.j,this,L),(0,g.Sx)(this.T,this))}else C1(this,{}),n1(this)}j(L,m){this.O=null;var n=g.up(b7l(this));if(g.Ml(n,g.up(L))){m=m.screens||[];n={};var C=m.length;for(let Z=0;Z<C;++Z)n[L[m[Z].loungeToken]]=
m[Z].status=="online";C1(this,n);n1(this)}else this.aJ("Changing Screen set during request."),this.S()}T(L){this.aJ("Screen availability failed: "+L);this.O=null;n1(this)}aJ(L){Gw("OnlineScreenService",L)}};g.bg(zk,js);g.S=zk.prototype;g.S.start=function(){this.O.start();this.W.start();this.screens.length&&(this.publish("screenChange"),this.W.isEmpty()||this.publish("onlineScreenChange"))};
g.S.add=function(L,m,n){this.O.add(L,m,n)};
g.S.remove=function(L,m,n){this.O.remove(L,m,n);this.W.update()};
g.S.BG=function(L,m,n,C){this.O.contains(L)?this.O.BG(L,m,n,C):(L="Updating name of unknown screen: "+L.name,Gw(this.U,L),C(Error(L)))};
g.S.IF=function(L){return L?this.screens:g.z0(this.screens,g.ug(this.J,function(m){return!this.contains(m)},this))};
g.S.eB=function(){return g.ug(this.IF(!0),function(L){return!!this.W.W[L.id]},this)};
g.S.AS=function(L,m,n,C,Z,z){this.info("getDialScreenByPairingCode "+L+" / "+m);const v=new mEr(this.G,L,m,n,C);v.subscribe("pairingComplete",(E,X)=>{g.gt(v);Z(vI(this,E),X)});
v.subscribe("pairingFailed",E=>{g.gt(v);z(E)});
v.start();return(0,g.Sx)(v.stop,v)};
g.S.s9=function(L,m,n,C){g.Zy(HF(this.G,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:L},timeout:5E3,onSuccess:(0,g.Sx)(function(Z,z){Z=new aR(z.screen||{});if(!Z.name||BUH(this,Z.name)){a:{z=Z.name;let v=2,E=m(z,v);for(;BUH(this,E);){v++;if(v>20)break a;E=m(z,v)}z=E}Z.name=z}n(vI(this,Z))},this),
onError:(0,g.Sx)(function(Z){C(Error("pairing request failed: "+Z.status))},this),
onTimeout:(0,g.Sx)(function(){C(Error("pairing request timed out."))},this)})};
g.S.b1=function(){g.gt(this.O);g.gt(this.W);zk.w$.b1.call(this)};
g.S.z3=function(){spZ(this);this.publish("screenChange");this.W.update()};
zk.prototype.dispose=zk.prototype.dispose;g.bg(XV,g.tS);g.S=XV.prototype;g.S.j3=function(L){this.To()||(L&&(Tk(this,""+L),this.publish("sessionFailed")),this.W=null,this.publish("sessionScreen",null))};
g.S.info=function(L){Gw(this.zo,L)};
g.S.lQ=function(){return null};
g.S.Ce=function(L){const m=this.O;L?(m.displayStatus=new chrome.cast.ReceiverDisplayStatus(L,[]),m.displayStatus.showStop=!0):m.displayStatus=null;chrome.cast.setReceiverDisplayStatus(m,(0,g.Sx)(function(){this.info("Updated receiver status for "+m.friendlyName+": "+L)},this),(0,g.Sx)(function(){Tk(this,"Failed to update receiver status for: "+m.friendlyName)},this))};
g.S.b1=function(){this.Ce("");XV.w$.b1.call(this)};var SR=class extends XV{constructor(L,m,n){super(L,m,"CastSession");this.config_=n;this.J=null;this.C=(0,g.Sx)(this.KI,this);this.Wv=(0,g.Sx)(this.xU,this);this.wd=g.d9(()=>{hNF(this,null)},12E4);
this.T=this.L=this.S=this.j=0}Je(L){if(this.J){if(this.J==L)return;Tk(this,"Overriding cast session with new session object");rsr(this);this.J.removeUpdateListener(this.C);this.J.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Wv)}this.J=L;this.J.addUpdateListener(this.C);this.J.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.Wv);kG$(this,"getMdxSessionStatus")}U(L){this.info("launchWithParams no-op for Cast: "+g.Mg(L))}stop(){this.J?this.J.stop((0,g.Sx)(function(){this.j3()},
this),(0,g.Sx)(function(){this.j3(Error("Failed to stop receiver app."))},this)):this.j3(Error("Stopping cast device without session."))}Ce(){}b1(){this.info("disposeInternal");
rsr(this);this.J&&(this.J.removeUpdateListener(this.C),this.J.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Wv));this.J=null;super.b1()}xU(L,m){if(!this.To())if(m)if(m=N2(m),g.RU(m))switch(L=""+m.type,m=m.data||{},this.info("onYoutubeMessage_: "+L+" "+g.Mg(m)),L){case "mdxSessionStatus":hNF(this,m);break;case "loungeToken":H7w(this,m);break;default:Tk(this,"Unknown youtube message: "+L)}else Tk(this,"Unable to parse message.");else Tk(this,"No data in message.")}nI(L,m,n,C){g.xG(this.j);
this.j=0;UB0(this.G,this.O.label,L,this.O.friendlyName,(0,g.Sx)(function(Z){Z?m(Z):C>=0?(Tk(this,"Screen "+L+" appears to be offline. "+C+" retries left."),this.j=g.d9((0,g.Sx)(this.nI,this,L,m,n,C-1),300)):n(Error("Unable to fetch screen."))},this),n)}lQ(){return this.J}KI(L){this.To()||L||(Tk(this,"Cast session died."),this.j3())}};var ndf=class extends XV{constructor(L,m,n,C){super(L,m,"DialSession");this.config_=C;this.J=this.j=null;this.Wv="";this.xU=n;this.KI=null;this.C=()=>{};
this.wd=NaN;this.nI=(0,g.Sx)(this.Zl,this);this.L=()=>{};
this.T=this.S=0}Je(L){this.J=L;this.J.addUpdateListener(this.nI)}U(L){this.KI=L;this.C()}stop(){KQ_(this);this.J?this.J.stop((0,g.Sx)(this.j3,this,null),(0,g.Sx)(this.j3,this,"Failed to stop DIAL device.")):this.j3()}b1(){KQ_(this);this.J&&this.J.removeUpdateListener(this.nI);this.J=null;super.b1()}Zl(L){this.To()||L||(Tk(this,"DIAL session died."),this.L(),this.L=()=>{},this.j3())}};var C7f=class extends XV{constructor(L,m){super(L,m,"ManualSession");this.J=g.d9((0,g.Sx)(this.U,this,null),150)}stop(){this.j3()}Je(){}U(){g.xG(this.J);this.J=NaN;const L=wi(this.G.IF(),this.O.label);L?N9(this,L):this.j3(Error("No such screen"))}b1(){g.xG(this.J);this.J=NaN;super.b1()}};var tA=class extends g.tS{constructor(L,m){super();this.config_=m;this.O=L;this.Je=m.appId||"233637DE";this.G=m.theme||"cl";this.zo=m.disableCastApi||!1;this.S=m.forceMirroring||!1;this.W=null;this.T=!1;this.J=[];this.U=(0,g.Sx)(this.KI,this)}init(L,m){chrome.cast.timeout.requestSession=3E4;var n=new chrome.cast.SessionRequest(this.Je,[chrome.cast.Capability.AUDIO_OUT]);g.or("desktop_enable_cast_connect")&&(n.androidReceiverCompatible=!0);this.zo||(n.dialRequest=new chrome.cast.DialRequest("YouTube"));
const C=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;L=L||this.S?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const Z=(0,g.Sx)(this.xU,this);n=new chrome.cast.ApiConfig(n,(0,g.Sx)(this.j,this),Z,C,L);n.customDialLaunchCallback=(0,g.Sx)(this.nI,this);chrome.cast.initialize(n,(0,g.Sx)(function(){this.To()||(chrome.cast.addReceiverActionListener(this.U),RN0(),this.O.subscribe("onlineScreenChange",(0,g.Sx)(this.L,this)),this.J=LUH(this),chrome.cast.setCustomReceivers(this.J,
()=>{},(0,g.Sx)(function(z){this.aJ("Failed to set initial custom receivers: "+g.Mg(z))},this)),this.publish("yt-remote-cast2-availability-change",D3(this)),m(!0))},this),(0,g.Sx)(function(z){this.aJ("Failed to initialize API: "+g.Mg(z));
m(!1)},this))}m3(L,m){OF("Setting connected screen ID: "+L+" -> "+m);
if(this.W){var n=this.W.W;if(!L||n&&n.id!=L)OF("Unsetting old screen status: "+this.W.O.friendlyName),lr(this,null)}if(L&&m){if(!this.W){L=wi(this.O.IF(),L);if(!L){OF("setConnectedScreenStatus: Unknown screen.");return}if(L.idType=="shortLived"){OF("setConnectedScreenStatus: Screen with id type to be short lived.");return}n=csH(this,L);n||(OF("setConnectedScreenStatus: Connected receiver not custom..."),n=new chrome.cast.Receiver(L.uuid?L.uuid:L.id,L.name),n.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.J.push(n),chrome.cast.setCustomReceivers(this.J,()=>{},(0,g.Sx)(function(C){this.aJ("Failed to set initial custom receivers: "+g.Mg(C))},this)));
OF("setConnectedScreenStatus: new active receiver: "+n.friendlyName);lr(this,new C7f(this.O,n),!0)}this.W.Ce(m)}else OF("setConnectedScreenStatus: no screen.")}SD(L){this.To()?this.aJ("Setting connection data on disposed cast v2"):this.W?this.W.U(L):this.aJ("Setting connection data without a session")}Wv(){this.To()?this.aJ("Stopping session on disposed cast v2"):this.W?(this.W.stop(),lr(this,null)):OF("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.Sx)(this.j,this),
(0,g.Sx)(this.Zl,this))}b1(){this.O.unsubscribe("onlineScreenChange",(0,g.Sx)(this.L,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.U);var L=DBl;const m=g.$P("yt.mdx.remote.debug.handlers_");g.cm(m||[],L);g.gt(this.W);super.b1()}aJ(L){Gw("Controller",L)}wd(L,m){this.W==L&&(m||lr(this,null),this.publish("yt-remote-cast2-session-change",m))}KI(L,m){if(!this.To())if(L)switch(L.friendlyName=chrome.cast.unescape(L.friendlyName),OF("onReceiverAction_ "+L.label+" / "+L.friendlyName+
"-- "+m),m){case chrome.cast.ReceiverAction.CAST:if(this.W)if(this.W.O.label!=L.label)OF("onReceiverAction_: Stopping active receiver: "+this.W.O.friendlyName),this.W.stop();else{OF("onReceiverAction_: Casting to active receiver.");this.W.W&&this.publish("yt-remote-cast2-session-change",this.W.W);break}switch(L.receiverType){case chrome.cast.ReceiverType.CUSTOM:lr(this,new C7f(this.O,L));break;case chrome.cast.ReceiverType.DIAL:lr(this,new ndf(this.O,L,this.G,this.config_));break;case chrome.cast.ReceiverType.CAST:lr(this,
new SR(this.O,L,this.config_));break;default:this.aJ("Unknown receiver type: "+L.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.W&&this.W.O.label==L.label?this.W.stop():this.aJ("Stopping receiver w/o session: "+L.friendlyName)}else this.aJ("onReceiverAction_ called without receiver.")}nI(L){if(this.To())return Promise.reject(Error("disposed"));var m=L.receiver;m.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.aJ("Not DIAL receiver: "+m.friendlyName),m.receiverType=chrome.cast.ReceiverType.DIAL);
var n=this.W?this.W.O:null;if(!n||n.label!=m.label)return this.aJ("Receiving DIAL launch request for non-clicked DIAL receiver: "+m.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(n&&n.label==m.label&&n.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.W.W)return OF("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.W.W),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.aJ('Changing CAST intent from "'+n.receiverType+'" to "dial" for '+m.friendlyName);
lr(this,new ndf(this.O,m,this.G,this.config_))}m=this.W;m.j=L;m.j.appState==chrome.cast.DialAppState.RUNNING?(L=m.j.extraData||{},n=L.screenId||null,aQ(m)&&L.loungeToken?L.loungeTokenRefreshIntervalMs?L=omf(m,{name:m.O.friendlyName,screenId:L.screenId,loungeToken:L.loungeToken,dialId:m.j.receiver.label,screenIdType:"shortLived"},L.loungeTokenRefreshIntervalMs):(g.Mu(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(L)}.`)),L=ysp(m,n)):L=ysp(m,n)):L=$E(m);return L}j(L){if(!this.To()&&
!this.S){OF("New cast session ID: "+L.sessionId);var m=L.receiver;if(m.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.W)if(m.receiverType==chrome.cast.ReceiverType.CAST)OF("Got resumed cast session before resumed mdx connection."),m.friendlyName=chrome.cast.unescape(m.friendlyName),lr(this,new SR(this.O,m,this.config_),!0);else{this.aJ("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var n=this.W.O,C=wi(this.O.IF(),n.label);C&&q2(C,m.label)&&n.receiverType!=
chrome.cast.ReceiverType.CAST&&m.receiverType==chrome.cast.ReceiverType.CAST&&(OF("onSessionEstablished_: manual to cast session change "+m.friendlyName),g.gt(this.W),this.W=new SR(this.O,m,this.config_),this.W.subscribe("sessionScreen",(0,g.Sx)(this.wd,this,this.W)),this.W.subscribe("sessionFailed",()=>mT1(this,this.W)),this.W.U(null));
this.W.Je(L)}}}C(){return this.W?this.W.lQ():null}Zl(L){this.To()||(this.aJ("Failed to estabilish a session: "+g.Mg(L)),L.code!=chrome.cast.ErrorCode.CANCEL&&lr(this,null),this.publish("yt-remote-cast2-session-failed"))}xU(L){OF("Receiver availability updated: "+L);if(!this.To()){var m=D3(this);this.T=L==chrome.cast.ReceiverAvailability.AVAILABLE;D3(this)!=m&&this.publish("yt-remote-cast2-availability-change",D3(this))}}L(){this.To()||(this.J=LUH(this),OF("Updating custom receivers: "+g.Mg(this.J)),
chrome.cast.setCustomReceivers(this.J,()=>{},(0,g.Sx)(function(){this.aJ("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",D3(this)))}};
tA.prototype.setLaunchParams=tA.prototype.SD;tA.prototype.setConnectedScreenStatus=tA.prototype.m3;tA.prototype.stopSession=tA.prototype.Wv;tA.prototype.getCastSession=tA.prototype.C;tA.prototype.requestSession=tA.prototype.requestSession;tA.prototype.init=tA.prototype.init;tA.prototype.dispose=tA.prototype.dispose;var Sh=[],vcD=(0,g.oH)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.S=f1.prototype;
g.S.reset=function(L){this.listId="";this.index=-1;this.videoId="";UF(this);this.volume=-1;this.muted=!1;L&&(this.index=L.index,this.listId=L.listId,this.videoId=L.videoId,this.playerState=L.playerState,this.volume=L.volume,this.muted=L.muted,this.audioTrackId=L.audioTrackId,this.trackData=L.trackData,this.KT=L.hasPrevious,this.Wp=L.hasNext,this.U=L.playerTime,this.L=L.playerTimeAt,this.O=L.seekableStart,this.S=L.seekableEnd,this.J=L.duration,this.T=L.loadedTime,this.W=L.liveIngestionTime,this.G=
!isNaN(this.W))};
g.S.isPlaying=function(){return this.playerState==1};
g.S.isBuffering=function(){return this.playerState==3};
g.S.U1=function(L){this.J=isNaN(L)?0:L};
g.S.getDuration=function(){return this.G?this.J+BI(this):this.J};
g.S.clone=function(){return new f1(p1(this))};var ZqD=class extends g.tS{constructor(){var L=Xo();super();this.J=0;this.G=L;this.S=[];this.L=new Kiw;this.O=this.W=null;this.C=(0,g.Sx)(this.KI,this);this.j=(0,g.Sx)(this.U,this);this.wd=(0,g.Sx)(this.nI,this);this.zo=(0,g.Sx)(this.xU,this);let m=0;L?(m=L.getProxyState(),m!=3&&(L.subscribe("proxyStateChange",this.Je,this),avz(this))):m=3;m!=0&&g.d9(()=>{this.Je(m)},0);
(L=V__())&&FV(this,L);this.subscribe("yt-remote-cast2-session-change",this.zo)}getState(){return this.J}AB(){return this.G.getReconnectTimeout()}E8(){this.G.reconnect()}play(){hA(this)?(this.W?this.W.play(null,g.FE,kE(this,"play")):rS(this,"play"),YE(this,1,sF(ur(this))),this.publish("remotePlayerChange")):WI(this,this.play)}pause(){hA(this)?(this.W?this.W.pause(null,g.FE,kE(this,"pause")):rS(this,"pause"),YE(this,2,sF(ur(this))),this.publish("remotePlayerChange")):WI(this,this.pause)}seekTo(L){if(hA(this)){if(this.W){const m=
ur(this),n=new chrome.cast.media.SeekRequest;n.currentTime=L;m.isPlaying()||m.isBuffering()?n.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:n.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.W.seek(n,g.FE,kE(this,"seekTo",{newTime:L}))}else rS(this,"seekTo",{newTime:L});YE(this,3,L);this.publish("remotePlayerChange")}else WI(this,g.IU(this.seekTo,L))}stop(){if(hA(this)){this.W?this.W.stop(null,g.FE,kE(this,"stopVideo")):rS(this,"stopVideo");var L=ur(this);L.index=-1;L.videoId=
"";UF(L);HI(this,L);this.publish("remotePlayerChange")}else WI(this,this.stop)}setVolume(L,m){if(hA(this)){var n=ur(this);if(this.O){if(n.volume!=L){const C=Math.round(L)/100;this.O.setReceiverVolumeLevel(C,(0,g.Sx)(function(){dA("set receiver volume: "+C)},this),(0,g.Sx)(function(){this.aJ("failed to set receiver volume.")},this))}n.muted!=m&&this.O.setReceiverMuted(m,(0,g.Sx)(function(){dA("set receiver muted: "+m)},this),(0,g.Sx)(function(){this.aJ("failed to set receiver muted.")},this))}else{const C=
{volume:L,
muted:m};n.volume!=-1&&(C.delta=L-n.volume);rS(this,"setVolume",C)}n.muted=m;n.volume=L;HI(this,n)}else WI(this,g.IU(this.setVolume,L,m))}T(L,m){if(hA(this)){var n=ur(this);L={videoId:L};m&&(n.trackData={trackName:m.name,languageCode:m.languageCode,sourceLanguageCode:m.translationLanguage?m.translationLanguage.languageCode:"",languageName:m.languageName,kind:m.kind},L.style=g.Mg(m.style),g.jZ(L,n.trackData));rS(this,"setSubtitlesTrack",L);HI(this,n)}else WI(this,g.IU(this.T,L,m))}setAudioTrack(L,
m){hA(this)?(m=m.getLanguageInfo().getId(),rS(this,"setAudioTrack",{videoId:L,audioTrackId:m}),L=ur(this),L.audioTrackId=m,HI(this,L)):WI(this,g.IU(this.setAudioTrack,L,m))}playVideo(L,m,n,C=null,Z=null,z=null,v=null){const E=ur(this),X={videoId:L};n!==void 0&&(X.currentIndex=n);Qe(E,L,n||0);m!==void 0&&(PI(E,m),X.currentTime=m);C&&(X.listId=C);Z&&(X.playerParams=Z);z&&(X.clickTrackingParams=z);v&&(X.locationInfo=g.Mg(v));rS(this,"setPlaylist",X);C||HI(this,E)}Mq(L,m){if(hA(this)){if(L&&m){const n=
ur(this);Qe(n,L,m);HI(this,n)}rS(this,"previous")}else WI(this,g.IU(this.Mq,L,m))}nextVideo(L,m){if(hA(this)){if(L&&m){const n=ur(this);Qe(n,L,m);HI(this,n)}rS(this,"next")}else WI(this,g.IU(this.nextVideo,L,m))}jf(){if(hA(this)){rS(this,"clearPlaylist");var L=ur(this);L.reset();HI(this,L);this.publish("remotePlayerChange")}else WI(this,this.jf)}Wv(){hA(this)?rS(this,"dismissAutoplay"):WI(this,this.Wv)}dispose(){if(this.J!=3){const L=this.J;this.J=3;this.publish("proxyStateChange",L,this.J)}super.dispose()}b1(){qUp(this);
this.G=null;this.L.clear();FV(this,null);super.b1()}Je(L){if((L!=this.J||L==2)&&this.J!=3&&L!=0){var m=this.J;this.J=L;this.publish("proxyStateChange",m,L);if(L==1)for(;!this.L.isEmpty();)m=L=this.L,m.W.length===0&&(m.W=m.O,m.W.reverse(),m.O=[]),L.W.pop().apply(this);else L==3&&this.dispose()}}Zl(L,m){this.publish(L,m)}KI(L){if(!L)this.U(null),FV(this,null);else if(this.O.receiver.volume){L=this.O.receiver.volume;const m=ur(this),n=Math.round(100*L.level||0);if(m.volume!=n||m.muted!=L.muted)dA("Cast volume update: "+
L.level+(L.muted?" muted":"")),m.volume=n,m.muted=!!L.muted,HI(this,m)}}U(L){dA("Cast media: "+!!L);this.W&&this.W.removeUpdateListener(this.wd);if(this.W=L)this.W.addUpdateListener(this.wd),DT_(this),this.publish("remotePlayerChange")}nI(L){L?(DT_(this),this.publish("remotePlayerChange")):this.U(null)}Qx(){rS(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}xU(){const L=V__();L&&FV(this,L)}aJ(L){Gw("CP",L)}};var Oc=class extends g.tS{constructor(L,m=!1){var n=oQ,C=vn();super();this.U=NaN;this.nI=!1;this.C=this.wd=this.Je=this.zo=NaN;this.Wv=[];this.L=this.T=this.G=this.W=this.O=null;this.Mb=n;this.Zl=m;this.Wv.push(g.eV(window,"beforeunload",()=>{this.S(2)}));
this.J=[];this.W=new f1;this.fI=L.id;this.xU=L.idType;this.O=q1Z(this.Mb,C,this.KI,this.xU=="shortLived",this.fI);this.O.listen("channelOpened",()=>{OAw(this)});
this.O.listen("channelClosed",()=>{Gk("Channel closed");isNaN(this.U)?IR(!0):IR();this.dispose()});
this.O.listen("channelError",Z=>{IR();isNaN(this.j())?(Z==1&&this.xU=="shortLived"&&this.publish("browserChannelAuthError",Z),Gk(`Channel error: ${Z} without reconnection`),this.dispose()):(this.nI=!0,Gk("Channel error: "+Z+" with reconnection in "+this.j()+" ms"),K1(this,2))});
this.O.listen("channelMessage",Z=>{t_$(this,Z)});
this.O.YP(L.token);this.subscribe("remoteQueueChange",()=>{var Z=this.W.videoId;g.BN()&&g.tM("yt-remote-session-video-id",Z)})}connect(L,m){if(m){var n=m.listId;
const C=m.videoId,Z=m.videoIds,z=m.playerParams,v=m.clickTrackingParams,E=m.index,X={videoId:C},N=m.currentTime,T=m.locationInfo;m=m.loopMode;N!==void 0&&(X.currentTime=N<=5?0:N);z&&(X.playerParams=z);T&&(X.locationInfo=T);v&&(X.clickTrackingParams=v);n&&(X.listId=n);Z&&Z.length>0&&(X.videoIds=Z.join(","));E!==void 0&&(X.currentIndex=E);this.Zl&&(X.loopMode=m||"LOOP_MODE_OFF");n&&(this.W.listId=n);this.W.videoId=C;this.W.index=E||0;this.W.state=3;PI(this.W,N);this.L="UNSUPPORTED";n=this.Zl?"setInitialState":
"setPlaylist";Gk(`Connecting with ${n} and params: ${g.Mg(X)}`);this.O.connect({method:n,params:g.Mg(X)},L,II0())}else Gk("Connecting without params"),this.O.connect({},L,II0());fvJ(this)}YP(L){this.O.YP(L)}dispose(){this.To()||(g.V2("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),K1(this,3));super.dispose()}b1(){xE(this);ye(this);dS(this);g.xG(this.wd);this.wd=NaN;g.xG(this.C);this.C=NaN;this.G=null;g.gV(this.Wv);this.Wv.length=0;this.O.dispose();super.b1();this.L=this.T=this.J=
this.W=this.O=null}SD(L){if(!this.J||this.J.length===0)return!1;for(const m of this.J)if(!m.capabilities.has(L))return!1;return!0}yH(){let L=3;this.To()||(L=0,isNaN(this.j())?this.O.Bm()&&isNaN(this.U)&&(L=1):L=2);return L}S(L){Gk("Disconnecting with "+L);g.V2("yt.mdx.remote.remoteClient_",null);xE(this);this.publish("beforeDisconnect",L);L==1&&IR();this.O.disconnect(L);this.dispose()}Ij(){let L=this.W;this.G&&(L=this.W.clone(),Qe(L,this.G,L.index));return p1(L)}zb(L){const m=new f1(L);m.videoId&&
m.videoId!=this.W.videoId&&(this.G=m.videoId,g.xG(this.wd),this.wd=g.d9(()=>{if(this.G){const C=this.G;this.G=null;this.W.videoId!=C&&jh(this,"getNowPlaying")}},5E3));
const n=[];this.W.listId==m.listId&&this.W.videoId==m.videoId&&this.W.index==m.index||n.push("remoteQueueChange");this.W.playerState==m.playerState&&this.W.volume==m.volume&&this.W.muted==m.muted&&sF(this.W)==sF(m)&&g.Mg(this.W.trackData)==g.Mg(m.trackData)||n.push("remotePlayerChange");this.W.reset(L);g.pJ(n,function(C){this.publish(C)},this)}m3(){const L=this.O.getDeviceId(),m=g.Wm(this.J,function(n){return n.type=="REMOTE_CONTROL"&&n.id!=L});
return m?m.id:""}j(){return this.O.AB()}jD(){return this.L||"UNSUPPORTED"}CI(){return this.T||""}l1(){!isNaN(this.j())&&this.O.E8()}tQ(L,m){jh(this,L,m);Pno(this)}KI(){var L=g.RG("SAPISID","")||g.RG("__Secure-1PAPISID")||"",m=g.RG("__Secure-3PAPISID","")||"";if(!L&&!m)return"";L=g.Gz(g.HT(L),2);m=g.Gz(g.HT(m),2);return g.Gz(g.HT(`,${L},${m}`),2)}};Oc.prototype.subscribe=Oc.prototype.subscribe;Oc.prototype.unsubscribeByKey=Oc.prototype.EZ;Oc.prototype.getProxyState=Oc.prototype.yH;
Oc.prototype.disconnect=Oc.prototype.S;Oc.prototype.getPlayerContextData=Oc.prototype.Ij;Oc.prototype.setPlayerContextData=Oc.prototype.zb;Oc.prototype.getOtherConnectedRemoteId=Oc.prototype.m3;Oc.prototype.getReconnectTimeout=Oc.prototype.j;Oc.prototype.getAutoplayMode=Oc.prototype.jD;Oc.prototype.getAutoplayVideoId=Oc.prototype.CI;Oc.prototype.reconnect=Oc.prototype.l1;Oc.prototype.sendMessage=Oc.prototype.tQ;Oc.prototype.getXsrfToken=Oc.prototype.KI;
Oc.prototype.isCapabilitySupportedOnConnectedDevices=Oc.prototype.SD;var rx_=class extends js{constructor(L){super("ScreenServiceProxy");this.z5=L;this.W=[];this.W.push(this.z5.$_s("screenChange",(0,g.Sx)(this.O,this)));this.W.push(this.z5.$_s("onlineScreenChange",(0,g.Sx)(this.J,this)))}IF(L){return this.z5.$_gs(L)}contains(L){return!!this.z5.$_c(L)}get(L){return this.z5.$_g(L)}start(){this.z5.$_st()}add(L,m,n){this.z5.$_a(L,m,n)}remove(L,m,n){this.z5.$_r(L,m,n)}BG(L,m,n,C){this.z5.$_un(L,m,n,C)}b1(){const L=this.W.length;for(let m=0;m<L;++m)this.z5.$_ubk(this.W[m]);
this.W.length=0;this.z5=null;super.b1()}O(){this.publish("screenChange")}J(){this.publish("onlineScreenChange")}};zk.prototype.$_st=zk.prototype.start;zk.prototype.$_gspc=zk.prototype.s9;zk.prototype.$_gsppc=zk.prototype.AS;zk.prototype.$_c=zk.prototype.contains;zk.prototype.$_g=zk.prototype.get;zk.prototype.$_a=zk.prototype.add;zk.prototype.$_un=zk.prototype.BG;zk.prototype.$_r=zk.prototype.remove;zk.prototype.$_gs=zk.prototype.IF;zk.prototype.$_gos=zk.prototype.eB;zk.prototype.$_s=zk.prototype.subscribe;
zk.prototype.$_ubk=zk.prototype.EZ;var TZ=null,DO=!1,oQ=null,cI=null,qO=null,CZ=[];var zHJ=class extends g.S_{constructor(L,m,n){super();this.W=L;this.K=m;this.I4=n;this.events=new g.X7(this);this.U=!1;this.T=new g.Tp(64);this.O=new g.ni(this.KI,500,this);this.J=new g.ni(this.xU,1E3,this);this.wd=new sP(this.fI,0,this);this.G={};this.C=new g.ni(this.m3,1E3,this);this.j=new g.Cg(this.seekTo,1E3,this);this.SD=this.events.A(this.K,"onVolumeChange",C=>{YUw(this,C)});
g.J(this,this.events);this.events.A(m,"onCaptionsTrackListChanged",this.l1);this.events.A(m,"captionschanged",this.Mb);this.events.A(m,"captionssettingschanged",this.Zl);this.events.A(m,"videoplayerreset",this.S);this.events.A(m,"mdxautoplaycancel",()=>{this.I4.Wv()});
m.N("enable_mdx_video_play_directly")&&this.events.A(m,"videodatachange",()=>{dTp(this.W)||lA(this)||R7(this,0)});
L=this.I4;L.To();L.subscribe("proxyStateChange",this.nI,this);L.subscribe("remotePlayerChange",this.L,this);L.subscribe("remoteQueueChange",this.S,this);L.subscribe("previousNextChange",this.zo,this);L.subscribe("nowAutoplaying",this.Je,this);L.subscribe("autoplayDismissed",this.Wv,this);g.J(this,this.O);g.J(this,this.J);g.J(this,this.wd);g.J(this,this.C);g.J(this,this.j);this.Zl();this.S();this.L()}b1(){super.b1();this.O.stop();this.J.stop();this.wd.stop();const L=this.I4;L.unsubscribe("proxyStateChange",
this.nI,this);L.unsubscribe("remotePlayerChange",this.L,this);L.unsubscribe("remoteQueueChange",this.S,this);L.unsubscribe("previousNextChange",this.zo,this);L.unsubscribe("nowAutoplaying",this.Je,this);L.unsubscribe("autoplayDismissed",this.Wv,this);this.I4=this.W=null}Kf(L,...m){if(this.I4.J!=2)if(lA(this)){if(ur(this.I4).playerState!=1081||L!=="control_seek")switch(L){case "control_toggle_play_pause":ur(this.I4).isPlaying()?this.I4.pause():this.I4.play();break;case "control_play":this.I4.play();
break;case "control_pause":this.I4.pause();break;case "control_seek":this.j.G(m[0],m[1]);break;case "control_subtitles_set_track":wQ(this,m[0]);break;case "control_set_audio_track":this.setAudioTrack(m[0])}}else switch(L){case "control_toggle_play_pause":case "control_play":case "control_pause":L=this.K.getCurrentTime();R7(this,L===0?void 0:L);break;case "control_seek":R7(this,m[0]);break;case "control_subtitles_set_track":wQ(this,m[0]);break;case "control_set_audio_track":this.setAudioTrack(m[0])}}Mb(L){this.wd.JV(L)}fI(L){this.Kf("control_subtitles_set_track",
g.Y_(L)?null:L)}Zl(){const L=this.K.getOption("captions","track");g.Y_(L)||wQ(this,L)}M6(L){this.W.M6(L,this.K.getVideoData().lengthSeconds)}l1(){g.Y_(this.G)||WUz(this,this.G);this.U=!1}nI(L,m){this.J.stop();m===2&&this.xU()}L(){if(lA(this)){this.O.stop();var L=ur(this.I4);switch(L.playerState){case 1080:case 1081:case 1084:case 1085:this.W.Ig=1;break;case 1082:case 1083:this.W.Ig=0;break;default:this.W.Ig=-1}switch(L.playerState){case 1081:case 1:this.J8(new g.Tp(8));this.KI();break;case 1085:case 3:this.J8(new g.Tp(9));
break;case 1083:case 0:this.J8(new g.Tp(2));this.j.stop();this.M6(this.K.getVideoData().lengthSeconds);break;case 1084:this.J8(new g.Tp(4));break;case 2:this.J8(new g.Tp(4));this.M6(sF(L));break;case -1:this.J8(new g.Tp(64));break;case -1E3:this.J8(new g.Tp(128,{errorCode:"mdx.remoteerror",errorMessage:"\u0412\u0438\u0434\u0435\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f.",
OS:2}))}const n=ur(this.I4).trackData;L=n;var m=this.G;(L||m?L&&m&&L.trackName==m.trackName&&L.languageCode==m.languageCode&&L.languageName==m.languageName&&L.kind==m.kind:1)||(this.G=n,WUz(this,n));L=ur(this.I4);L.volume===-1||Math.round(this.K.getVolume())===L.volume&&this.K.isMuted()===L.muted||this.C.isActive()||this.m3()}else Gof(this)}zo(){this.K.publish("mdxpreviousnextchange")}S(){lA(this)||Gof(this)}Je(L){isNaN(L)||this.K.publish("mdxnowautoplaying",L)}Wv(){this.K.publish("mdxautoplaycanceled")}setAudioTrack(L){lA(this)&&
this.I4.setAudioTrack(this.K.getVideoData(1).videoId,L)}seekTo(L,m){ur(this.I4).playerState===-1?R7(this,L):m&&this.I4.seekTo(L)}m3(){if(lA(this)){var L=ur(this.I4);this.events.TX(this.SD);L.muted?this.K.mute():this.K.unMute();this.K.setVolume(L.volume);this.SD=this.events.A(this.K,"onVolumeChange",m=>{YUw(this,m)})}}KI(){this.O.stop();
if(!this.I4.To()){var L=ur(this.I4);L.isPlaying()&&this.J8(new g.Tp(8));this.M6(sF(L));this.O.start()}}xU(){this.J.stop();this.O.stop();const L=this.I4.AB();this.I4.J==2&&!isNaN(L)&&this.J.start()}J8(L){this.J.stop();const m=this.T;if(!g.DR(m,L)){const n=L.W(2);n!==this.T.W(2)&&this.K.YG(n);this.T=L;KU1(this.W,m,L)}}};var vd0=class extends g.PB{constructor(L,m){super(L);this.W=m}getCurrentTime(){return this.W.getCurrentTime()}getDuration(){return this.W.getDuration()}R6(){return this.W.R6()}aF(){return this.W.aF()}hk(){return this.W.hk()}jy(){return this.W.jy()}getPlayerState(){return this.W.Vu}isAtLiveHead(){return this.W.isAtLiveHead()}pauseVideo(){eR(this.W,"control_pause")}async playVideo(){eR(this.W,"control_play")}seekTo(L,m){eR(this.W,"control_seek",L,!m?.Fk)}zf(L){eR(this.W,"control_set_audio_track",L);
return!0}};var EdJ=class extends g.y{constructor(){super({Z:"div",B:"ytp-mdx-popup-dialog",Y:{role:"dialog"},V:[{Z:"div",B:"ytp-mdx-popup-dialog-inner-content",V:[{Z:"div",B:"ytp-mdx-popup-title",Go:"\u0412\u044b \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"},{Z:"div",B:"ytp-mdx-popup-description",Go:'\u0420\u043e\u043b\u0438\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435, \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043d\u0430 \u0442\u0435\u043b\u0435\u0432\u0438\u0437\u043e\u0440\u0435, \u0447\u0442\u043e \u0441\u043a\u0430\u0436\u0435\u0442\u0441\u044f \u043d\u0430 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u0445. \u0427\u0442\u043e\u0431\u044b \u044d\u0442\u043e\u0433\u043e \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 "\u041e\u0442\u043c\u0435\u043d\u0430" \u0438 \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u043d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435.'},
{Z:"div",B:"ytp-mdx-privacy-popup-buttons",V:[{Z:"button",rd:["ytp-button","ytp-mdx-privacy-popup-cancel"],Go:"\u041e\u0442\u043c\u0435\u043d\u0430"},{Z:"button",rd:["ytp-button","ytp-mdx-privacy-popup-confirm"],Go:"\u041e\u041a"}]}]}]});this.fade=new g.fg(this,250);this.cancelButton=this.aj("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.aj("ytp-mdx-privacy-popup-confirm");g.J(this,this.fade);this.A(this.cancelButton,"click",this.W);this.A(this.confirmButton,"click",this.O)}Ey(){this.fade.show()}Fe(){this.fade.hide()}W(){Ai("mdx-privacy-popup-cancel");
this.Fe()}O(){Ai("mdx-privacy-popup-confirm");this.Fe()}};var Xlr=class extends g.y{constructor(L){super({Z:"div",B:"ytp-remote",V:[{Z:"div",B:"ytp-remote-display-status",V:[{Z:"div",B:"ytp-remote-display-status-icon",V:[g.DTP()]},{Z:"div",B:"ytp-remote-display-status-text",Go:"{{statustext}}"}]}]});this.api=L;this.fade=new g.fg(this,250);g.J(this,this.fade);this.A(L,"presentingplayerstatechange",this.onStateChange);this.Bc(L.getPlayerStateObject())}onStateChange(L){this.Bc(L.state)}Bc(L){if(this.api.getPresentingPlayerType()===3){const m={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};L=L.W(128)?g.Sa('\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435 "$RECEIVER_NAME"',m):L.isPlaying()||L.isPaused()?g.Sa('\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435 "$RECEIVER_NAME"',m):g.Sa('\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0443 "$RECEIVER_NAME"',
m);this.updateValue("statustext",L);this.fade.show()}else this.fade.hide()}};var No1=class extends g.en{constructor(L,m){super("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",1,L,m);this.K=L;this.Qt={};this.A(L,"onMdxReceiversChange",this.T);this.A(L,"presentingplayerstatechange",this.T);this.T()}T(){var L=this.K.getOption("remote","receivers");L&&L.length>1&&!this.K.getOption("remote","quickCast")?(this.Qt=g.JJ(L,this.U,this),this.L(g.h_(L,
this.U)),L=this.K.getOption("remote","currentReceiver"),L=this.U(L),this.options[L]&&this.O(L),this.enable(!0)):this.enable(!1)}U(L){return L.key}G(L){return L==="cast-selector-receiver"?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c":this.Qt[L].name}W(L){super.W(L);this.K.setOption("remote","currentReceiver",this.Qt[L]);this.JQ.Fe()}};g.pw("remote",class extends g.Sn{constructor(L){super(L);this.hC={key:lE(),name:"\u042d\u0442\u043e\u0442 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440"};this.M2=null;this.subscriptions=[];this.Ry=this.I4=null;this.Qt=[this.hC];this.UM=this.hC;this.Vu=new g.Tp(64);this.uy=0;this.Ig=-1;this.xf=!1;this.XD=this.UH=this.F5=null;if(!g.b6(this.player.D())&&!g.ls(this.player.D())){L=this.player;var m=g.r2(L);m&&(m=m.s$())&&(m=new No1(L,m),g.J(this,m));m=new Xlr(L);g.J(this,m);g.mG(L,m.element,4);
this.F5=new EdJ;g.J(this,this.F5);g.mG(L,this.F5.element,4);this.xf=!!zZ()}}create(){var L=this.player.D();const m=g.fc(L);L={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:L.N("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:L.N("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:L.N("enable_cast_short_lived_lounge_token")};FUw(m,L);this.subscriptions.push(g.QC("yt-remote-before-disconnect",this.Km,this));this.subscriptions.push(g.QC("yt-remote-connection-change",
this.Ff,this));this.subscriptions.push(g.QC("yt-remote-receiver-availability-change",this.dT,this));this.subscriptions.push(g.QC("yt-remote-auto-connect",this.SE,this));this.subscriptions.push(g.QC("yt-remote-receiver-resumed",this.mG,this));this.subscriptions.push(g.QC("mdx-privacy-popup-confirm",this.iH,this));this.subscriptions.push(g.QC("mdx-privacy-popup-cancel",this.L_,this));this.dT()}load(){this.player.cancelPlayback();super.load();this.XD=new vd0(this.player.D(),this);this.player.WA(this.XD);
this.M2=new zHJ(this,this.player,this.I4);var L=(L=HAF())?L.currentTime:0;const m=a7()?new ZqD:null;L==0&&m&&(L=sF(ur(m)));L!==0&&this.M6(L);KU1(this,this.Vu,this.Vu);this.player.y5(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.As();this.UM=this.hC;g.MT(this.M2,this.I4);this.I4=this.XD=this.M2=null;super.unload();this.player.y5(5);gQ(this)}b1(){g.pD(this.subscriptions);super.b1()}getAdState(){return this.Ig}KT(){return this.I4?ur(this.I4).KT:!1}Wp(){return this.I4?ur(this.I4).Wp:
!1}M6(L,m){this.uy=L||0;this.player.publish("progresssync",L,m);g.Ft(this.player,"onVideoProgress",L||0)}getCurrentTime(){return this.uy}getDuration(){return ur(this.I4).getDuration()||0}R6(){var L=ur(this.I4);return L.G?L.W+BI(L):L.W}aF(){return ur(this.I4).T}hk(){return $T0(ur(this.I4))}jy(){var L=ur(this.I4);return L.O>0?L.O+BI(L):L.O}getProgressState(){const L=ur(this.I4),m=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:L.playerState!=1081&&this.player.pL(),clipEnd:m.clipEnd,
clipStart:m.clipStart,current:this.getCurrentTime(),displayedStart:-1,duration:this.getDuration(),ingestionTime:this.R6(),isAtLiveHead:this.isAtLiveHead(),loaded:this.aF(),seekableEnd:this.hk(),seekableStart:this.jy(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return $T0(ur(this.I4))-this.getCurrentTime()<=1}nextVideo(){this.I4&&this.I4.nextVideo()}Mq(){this.I4&&this.I4.Mq()}Km(L){L===1&&(this.Ry=this.I4?ur(this.I4):null)}Ff(){var L=a7()?new ZqD:null;if(L){const m=this.UM;this.loaded&&
this.unload();this.I4=L;this.Ry=null;m.key!==this.hC.key&&(this.UM=m,this.load())}else g.gt(this.I4),this.I4=null,this.loaded&&(this.unload(),(L=this.Ry)&&L.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(L.videoId,sF(L)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}dT(){var L=[this.hC],m=L.concat;const n=uKJ();IQ()&&g.fe("yt-remote-cast-available")&&n.push({key:"cast-selector-receiver",name:"Cast..."});this.Qt=m.call(L,n);L=NO()||this.hC;MO(this,
L);g.Ft(this.player,"onMdxReceiversChange")}SE(){const L=NO();MO(this,L)}mG(){this.UM=NO()}iH(){this.xf=!0;gQ(this);DO=!1;TZ&&iA(TZ,1);TZ=null}L_(){this.xf=!1;gQ(this);MO(this,this.hC);this.UM=this.hC;DO=!1;TZ=null;this.player.playVideo()}YN(L,m){switch(L){case "casting":return this.loaded;case "receivers":return this.Qt;case "currentReceiver":return m&&(m.key==="cast-selector-receiver"?AA():MO(this,m)),this.loaded?this.UM:this.hC;case "quickCast":return this.Qt.length===2&&this.Qt[1].key==="cast-selector-receiver"?
(m&&AA(),!0):!1}}Qx(){this.I4.Qx()}G6(){return!1}getOptions(){return["casting","receivers","currentReceiver","quickCast"]}isLoggedIn(){return g.B("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.B("SESSION_INDEX")&&!g.B("LOGGED_IN"))}});})(_yt_player);
